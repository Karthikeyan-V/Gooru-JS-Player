if(!this.JSON){this.JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){k=rep[i];if(typeof k==="string"){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}());(function(){function H(O){console.log("$f.fireEvent",[].slice.call(O))}function D(O){if(!O||typeof O!="object"){return O}var Q=new O.constructor();for(var P in O){if(O.hasOwnProperty(P)){Q[P]=D(O[P])}}return Q}function B(O,R){if(!O){return }var T,S=0,Q=O.length;if(Q===undefined){for(T in O){if(R.call(O[T],T,O[T])===false){break}}}else{for(var P=O[0];S<Q&&R.call(P,S,P)!==false;P=O[++S]){}}return O}function L(O){return document.getElementById(O)}function F(O,P,Q){if(typeof P!="object"){return O}if(O&&P){B(P,function(S,R){if(!Q||typeof R!="function"){O[S]=R}})}return O}function A(O){var Q=O.indexOf(".");if(Q!=-1){var R=O.slice(0,Q)||"*";var S=O.slice(Q+1,O.length);var P=[];B(document.getElementsByTagName(R),function(){if(this.className&&this.className.indexOf(S)!=-1){P.push(this)}});return P}}function I(O){O=O||window.event;if(O.preventDefault){O.stopPropagation();O.preventDefault()}else{O.returnValue=false;O.cancelBubble=true}return false}function E(O,Q,P){O[Q]=O[Q]||[];O[Q].push(P)}function J(){return"_"+(""+Math.random()).slice(2,10)}var G=function(P,R,Q){var S=this,T={},O={};S.index=R;if(typeof P=="string"){P={url:P}}F(this,P,true);B(("Begin*,Start,Pause*,Resume*,Seek*,Stop*,Finish*,LastSecond,Update,BufferFull,BufferEmpty,BufferStop").split(","),function(){var W="on"+this;if(W.indexOf("*")!=-1){W=W.slice(0,W.length-1);var V="onBefore"+W.slice(2);S[V]=function(X){E(O,V,X);return S}}S[W]=function(X){E(O,W,X);return S};if(R==-1){if(S[V]){Q[V]=S[V]}if(S[W]){Q[W]=S[W]}}});F(this,{onCuepoint:function(V,W){if(arguments.length==1){T.embedded=[null,V];return S}if(typeof V=="number"){V=[V]}var X=J();T[X]=[V,W];if(Q.isLoaded()){Q._api().fp_addCuepoints(V,R,X)}return S},update:function(W){F(S,W);if(Q.isLoaded()){Q._api().fp_updateClip(W,R)}var X=Q.getConfig();var V=(R==-1)?X.clip:X.playlist[R];F(V,W,true)},_fireEvent:function(Y,a,X,W){if(Y=="onLoad"){B(T,function(c,b){if(b[0]){Q._api().fp_addCuepoints(b[0],R,c)}});return false}W=W||S;if(Y=="onCuepoint"){var Z=T[a];if(Z){return Z[1].call(Q,W,X)}}if(a&&"onBeforeBegin,onMetaData,onStart,onUpdate,onResume".indexOf(Y)!=-1){F(W,a);if(a.metaData){if(!W.duration){W.duration=a.metaData.duration}else{W.fullDuration=a.metaData.duration}}}var V=true;B(O[Y],function(){V=this.call(Q,W,a,X)});return V}});if(P.onCuepoint){var U=P.onCuepoint;S.onCuepoint.apply(S,typeof U=="function"?[U]:U);delete P.onCuepoint}B(P,function(W,V){if(typeof V=="function"){E(O,W,V);delete P[W]}});if(R==-1){Q.onCuepoint=this.onCuepoint}};var C=function(T,R,S,P){var U=this,Q={},O=false;if(P){F(Q,P)}B(R,function(W,V){if(typeof V=="function"){Q[W]=V;delete R[W]}});F(this,{animate:function(Z,Y,V){if(!Z){return U}if(typeof Y=="function"){V=Y;Y=500}if(typeof Z=="string"){var W=Z;Z={};Z[W]=Y;Y=500}if(V){var X=J();Q[X]=V}if(Y===undefined){Y=500}R=S._api().fp_animate(T,Z,Y,X);return U},css:function(W,V){if(V!==undefined){var X={};X[W]=V;W=X}R=S._api().fp_css(T,W);F(U,R);return U},show:function(){this.display="block";S._api().fp_showPlugin(T);return U},hide:function(){this.display="none";S._api().fp_hidePlugin(T);return U},toggle:function(){this.display=S._api().fp_togglePlugin(T);return U},fadeTo:function(Y,V,W){if(typeof V=="function"){W=V;V=500}if(W){var X=J();Q[X]=W}this.display=S._api().fp_fadeTo(T,Y,V,X);this.opacity=Y;return U},fadeIn:function(V,W){return U.fadeTo(1,V,W)},fadeOut:function(V,W){return U.fadeTo(0,V,W)},getName:function(){return T},getPlayer:function(){return S},_fireEvent:function(X,Y,W){if(X=="onUpdate"){var Z=S._api().fp_getPlugin(T);if(!Z){return }F(U,Z);delete U.methods;if(!O){B(Z.methods,function(){var b=""+this;U[b]=function(){var d=[].slice.call(arguments);var c=S._api().fp_invoke(T,b,d);return c==="undefined"||c===undefined?U:c}});O=true}}var V=Q[X];if(V){var a=V.apply(U,Y);if(X.slice(0,1)=="_"){delete Q[X]}return a}return U}})};function M(d,S,X){var R=this,T=null,Z=false,V,Y,U=[],P={},Q={},W,b,f,a,g,e;F(R,{id:function(){return W},isLoaded:function(){return(T!==null&&T.fp_play!==undefined&&!Z)},getParent:function(){return d},hide:function(h){if(h){d.style.height="0px"}if(R.isLoaded()){T.style.height="0px"}return R},show:function(){d.style.height=e+"px";if(R.isLoaded()){T.style.height=g+"px"}return R},isHidden:function(){return R.isLoaded()&&parseInt(T.style.height,10)===0},load:function(h){if(!R.isLoaded()&&R._fireEvent("onBeforeLoad")!==false){var k=function(){if(V&&!flashembed.isSupported(S.version)){d.innerHTML=""}if(h){h.cached=true;E(Q,"onLoad",h)}flashembed(d,S,{config:X})};var j=0;B(N,function(){this.unload(function(l){if(++j==N.length){k()}})})}return R},unload:function(h){if(V.replace(/\s/g,"")!==""){if(R._fireEvent("onBeforeUnload")===false){if(h){h(false)}return R}Z=true;try{if(T){T.fp_close();R._fireEvent("onUnload")}}catch(k){}var j=function(){T=null;d.innerHTML=V;Z=false;if(h){h(true)}};if(/WebKit/i.test(navigator.userAgent)&&!/Chrome/i.test(navigator.userAgent)){setTimeout(j,0)}else{j()}}else{if(h){h(false)}}return R},getClip:function(h){if(h===undefined){h=a}return U[h]},getCommonClip:function(){return Y},getPlaylist:function(){return U},getPlugin:function(k){var h=P[k];if(!h&&R.isLoaded()){var j=R._api().fp_getPlugin(k);if(j){h=new C(k,j,R);P[k]=h}}return h},getScreen:function(){return R.getPlugin("screen")},getControls:function(){return R.getPlugin("controls")._fireEvent("onUpdate")},getLogo:function(){try{return R.getPlugin("logo")._fireEvent("onUpdate")}catch(h){}},getPlay:function(){return R.getPlugin("play")._fireEvent("onUpdate")},getConfig:function(h){return h?D(X):X},getFlashParams:function(){return S},loadPlugin:function(j,k,o,h){if(typeof o=="function"){h=o;o={}}var l=h?J():"_";R._api().fp_loadPlugin(j,k,o,l);var m={};m[l]=h;var n=new C(j,null,R,m);P[j]=n;return n},getState:function(){return R.isLoaded()?T.fp_getState():-1},play:function(j,k){var h=function(){if(j!==undefined){R._api().fp_play(j,k)}else{R._api().fp_play()}};if(R.isLoaded()){h()}else{if(Z){setTimeout(function(){R.play(j,k)},50)}else{R.load(function(){h()})}}return R},getVersion:function(){var h="flowplayer.js 3.2.10";if(R.isLoaded()){var j=T.fp_getVersion();j.push(h);return j}return h},_api:function(){if(!R.isLoaded()){throw"Flowplayer "+R.id()+" not loaded when calling an API method"}return T},setClip:function(h){B(h,function(k,j){if(typeof j=="function"){E(Q,k,j);delete h[k]}else{if(k=="onCuepoint"){$f(d).getCommonClip().onCuepoint(h[k][0],h[k][1])}}});R.setPlaylist([h]);return R},getIndex:function(){return f},bufferAnimate:function(h){T.fp_bufferAnimate(h===undefined||h);return R},_swfHeight:function(){return T.clientHeight}});B(("Click*,Load*,Unload*,Keypress*,Volume*,Mute*,Unmute*,PlaylistReplace,ClipAdd,Fullscreen*,FullscreenExit,Error,MouseOver,MouseOut").split(","),function(){var j="on"+this;if(j.indexOf("*")!=-1){j=j.slice(0,j.length-1);var h="onBefore"+j.slice(2);R[h]=function(k){E(Q,h,k);return R}}R[j]=function(k){E(Q,j,k);return R}});B(("pause,resume,mute,unmute,stop,toggle,seek,getStatus,getVolume,setVolume,getTime,isPaused,isPlaying,startBuffering,stopBuffering,isFullscreen,toggleFullscreen,reset,close,setPlaylist,addClip,playFeed,setKeyboardShortcutsEnabled,isKeyboardShortcutsEnabled").split(","),function(){var h=this;R[h]=function(k,l){if(!R.isLoaded()){return R}var j=null;if(k!==undefined&&l!==undefined){j=T["fp_"+h](k,l)}else{j=(k===undefined)?T["fp_"+h]():T["fp_"+h](k)}return j==="undefined"||j===undefined?R:j}});R._fireEvent=function(j){if(typeof j=="string"){j=[j]}var h=j[0],l=j[1],n=j[2],o=j[3],p=0;if(X.debug){H(j)}if(!R.isLoaded()&&h=="onLoad"&&l=="player"){T=T||L(b);g=R._swfHeight();B(U,function(){this._fireEvent("onLoad")});B(P,function(u,t){t._fireEvent("onUpdate")});Y._fireEvent("onLoad")}if(h=="onLoad"&&l!="player"){return }if(h=="onError"){if(typeof l=="string"||(typeof l=="number"&&typeof n=="number")){l=n;n=o}}if(h=="onContextMenu"){B(X.contextMenu[l],function(u,t){t.call(R)});return }if(h=="onPluginEvent"||h=="onBeforePluginEvent"){var s=l.name||l;var r=P[s];if(r){r._fireEvent("onUpdate",l);return r._fireEvent(n,j.slice(3))}return }if(h=="onPlaylistReplace"){U=[];var m=0;B(l,function(){U.push(new G(this,m++,R))})}if(h=="onClipAdd"){if(l.isInStream){return }l=new G(l,n,R);U.splice(n,0,l);for(p=n+1;p<U.length;p++){U[p].index++}}var k=true;if(typeof l=="number"&&l<U.length){a=l;var q=U[l];if(q){k=q._fireEvent(h,n,o)}if(!q||k!==false){k=Y._fireEvent(h,n,o,q)}}B(Q[h],function(){k=this.call(R,l,n);if(this.cached){Q[h].splice(p,1)}if(k===false){return false}p++});return k};function c(){if($f(d)){$f(d).getParent().innerHTML="";f=$f(d).getIndex();N[f]=R}else{N.push(R);f=N.length-1}e=parseInt(d.style.height,10)||d.clientHeight;W=d.id||"fp"+J();b=S.id||W+"_api";S.id=b;V=d.innerHTML;if(typeof X=="string"){X={clip:{url:X}}}X.playerId=W;X.clip=X.clip||{};if(d.getAttribute("href",2)&&!X.clip.url){X.clip.url=d.getAttribute("href",2)}Y=new G(X.clip,-1,R);X.playlist=X.playlist||[X.clip];var k=0;B(X.playlist,function(){var m=this;if(typeof m=="object"&&m.length){m={url:""+m}}B(X.clip,function(o,n){if(n!==undefined&&m[o]===undefined&&typeof n!="function"){m[o]=n}});X.playlist[k]=m;m=new G(m,k,R);U.push(m);k++});B(X,function(m,n){if(typeof n=="function"){if(Y[m]){Y[m](n)}else{E(Q,m,n)}delete X[m]}});B(X.plugins,function(m,n){if(n){P[m]=new C(m,n,R)}});if(!X.plugins||X.plugins.controls===undefined){P.controls=new C("controls",null,R)}P.canvas=new C("canvas",null,R);V=d.innerHTML;function h(m){if(/iPad|iPhone|iPod/i.test(navigator.userAgent)&&!/.flv$/i.test(U[0].url)&&!j()){return true}if(!R.isLoaded()&&R._fireEvent("onBeforeClick")!==false){R.load()}return I(m)}function j(){return R.hasiPadSupport&&R.hasiPadSupport()}function l(){if(V.replace(/\s/g,"")!==""){if(d.addEventListener){d.addEventListener("click",h,false)}else{if(d.attachEvent){d.attachEvent("onclick",h)}}}else{if(d.addEventListener&&!j()){d.addEventListener("click",I,false)}R.load()}}setTimeout(l,0)}if(typeof d=="string"){var O=L(d);if(!O){throw"Flowplayer cannot access element: "+d}d=O;c()}else{c()}}var N=[];function K(P){this.length=P.length;this.each=function(Q){B(P,Q)};this.size=function(){return P.length};var O=this;for(name in M.prototype){O[name]=function(){var Q=arguments;O.each(function(){this[name].apply(this,Q)})}}}window.flowplayer=window.$f=function(){var S=null;var T=arguments[0];if(!arguments.length){B(N,function(){if(this.isLoaded()){S=this;return false}});return S||N[0]}if(arguments.length==1){if(typeof T=="number"){return N[T]}else{if(T=="*"){return new K(N)}B(N,function(){if(this.id()==T.id||this.id()==T||this.getParent()==T){S=this;return false}});return S}}if(arguments.length>1){var O=arguments[1],R=(arguments.length==3)?arguments[2]:{};if(typeof O=="string"){O={src:O}}O=F({bgcolor:"#000000",version:[10,1],expressInstall:"http://releases.flowplayer.org/swf/expressinstall.swf",cachebusting:false},O);if(typeof T=="string"){if(T.indexOf(".")!=-1){var P=[];B(A(T),function(){P.push(new M(this,D(O),D(R)))});return new K(P)}else{var Q=L(T);return new M(Q!==null?Q:D(T),D(O),D(R))}}else{if(T){return new M(T,D(O),D(R))}}}return null};F(window.$f,{fireEvent:function(){var P=[].slice.call(arguments);var O=$f(P[0]);return O?O._fireEvent(P.slice(1)):null},addPlugin:function(P,O){M.prototype[P]=O;return $f},each:B,extend:F});if(typeof jQuery=="function"){jQuery.fn.flowplayer=function(O,P){if(!arguments.length||typeof arguments[0]=="number"){var Q=[];this.each(function(){var R=$f(this);if(R){Q.push(R)}});return arguments.length?Q[arguments[0]]:new K(Q)}return this.each(function(){$f(this,D(O),P?D(P):{})})}}})();(function(){var D=document.all,B="http://www.adobe.com/go/getflashplayer",H=typeof jQuery=="function",F=/(\d+)[^\d]+(\d+)[^\d]*(\d*)/,I={width:"100%",height:"100%",id:"_"+(""+Math.random()).slice(9),allowfullscreen:true,allowscriptaccess:"always",quality:"high",version:[3,0],onFail:null,expressInstall:null,w3c:false,cachebusting:false};if(window.attachEvent){window.attachEvent("onbeforeunload",function(){__flash_unloadHandler=function(){};__flash_savedUnloadHandler=function(){}})}function C(K,L){if(L){for(var M in L){if(L.hasOwnProperty(M)){K[M]=L[M]}}}return K}function J(M,N){var K=[];for(var L in M){if(M.hasOwnProperty(L)){K[L]=N(M[L])}}return K}window.flashembed=function(M,K,L){if(typeof M=="string"){M=document.getElementById(M.replace("#",""))}if(!M){return }if(typeof K=="string"){K={src:K}}return new G(M,C(C({},I),K),L)};var E=C(window.flashembed,{conf:I,getVersion:function(){var K,M;try{M=navigator.plugins["Shockwave Flash"].description.slice(16)}catch(N){try{K=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");M=K&&K.GetVariable("$version")}catch(O){try{K=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");M=K&&K.GetVariable("$version")}catch(L){}}}M=F.exec(M);return M?[1*M[1],1*M[(M[1]*1>9?2:3)]*1]:[0,0]},asString:function(L){if(L===null||L===undefined){return null}var M=typeof L;if(M=="object"&&L.push){M="array"}switch(M){case"string":L=L.replace(new RegExp('(["\\\\])',"g"),"\\$1");L=L.replace(/^\s?(\d+\.?\d*)%/,"$1pct");return'"'+L+'"';case"array":return"["+J(L,function(O){return E.asString(O)}).join(",")+"]";case"function":return'"function()"';case"object":var K=[];for(var N in L){if(L.hasOwnProperty(N)){K.push('"'+N+'":'+E.asString(L[N]))}}return"{"+K.join(",")+"}"}return String(L).replace(/\s/g," ").replace(/\'/g,'"')},getHTML:function(P,L){P=C({},P);var Q='<object width="'+P.width+'" height="'+P.height+'" id="'+P.id+'" name="'+P.id+'"';if(P.cachebusting){P.src+=((P.src.indexOf("?")!=-1?"&":"?")+Math.random())}if(P.w3c||!D){Q+=' data="'+P.src+'" type="application/x-shockwave-flash"'}else{Q+=' classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'}Q+=">";if(P.w3c||D){Q+='<param name="movie" value="'+P.src+'" />'}P.width=P.height=P.id=P.w3c=P.src=null;P.onFail=P.version=P.expressInstall=null;for(var K in P){if(P[K]){Q+='<param name="'+K+'" value="'+P[K]+'" />'}}var O="";if(L){for(var N in L){if(L[N]){var M=L[N];O+=N+"="+(/function|object/.test(typeof M)?E.asString(M):M)+"&"}}O=O.slice(0,-1);Q+='<param name="flashvars" value=\''+O+"' />"}Q+="</object>";return Q},isSupported:function(K){return A[0]>K[0]||A[0]==K[0]&&A[1]>=K[1]}});var A=E.getVersion();function G(M,N,K){if(E.isSupported(N.version)){M.innerHTML=E.getHTML(N,K)}else{if(N.expressInstall&&E.isSupported([6,65])){M.innerHTML=E.getHTML(C(N,{src:N.expressInstall}),{MMredirectURL:encodeURIComponent(location.href),MMplayerType:"PlugIn",MMdoctitle:document.title})}else{if(!M.innerHTML.replace(/\s/g,"")){M.innerHTML="<h2>Flash version "+N.version+" or greater is required</h2><h3>"+(A[0]>0?"Your version is "+A:"You have no flash plugin installed")+"</h3>"+(M.tagName=="A"?"<p>Click here to download latest version</p>":"<p>Download latest version from <a href='"+B+"'>here</a></p>");if(M.tagName=="A"||M.tagName=="DIV"){M.onclick=function(){location.href=B}}}if(N.onFail){var L=N.onFail.call(this);if(typeof L=="string"){M.innerHTML=L}}}}if(D){window[N.id]=document.getElementById(N.id)}C(this,{getRoot:function(){return M},getOptions:function(){return N},getConf:function(){return K},getApi:function(){return M.firstChild}})}if(H){jQuery.tools=jQuery.tools||{version:"3.2.10"};jQuery.tools.flashembed={conf:I};jQuery.fn.flashembed=function(K,L){return this.each(function(){$(this).data("flashembed",flashembed(this,K,L))})}}})();if(typeof scribd=="undefined"){var scribd=new Object();scribd.Document=function(){this.__params=[];this.__callQueue=[];this.__listenerLookup={};if(arguments.length==2){this.document_id=arguments[0];this.access_key=arguments[1];return this}if(scribd.Document.caller!=scribd.Document.getDoc&&scribd.Document.caller!=scribd.Document.getDocFromUrl&&scribd.Document.caller!=scribd.Document.getDocFromUrlForExtension&&scribd.Document.caller!=undefined){throw new Error("There is no public constructor for scribd.Document.")}};scribd.Document.getDoc=function(A,B){scribd_doc=new scribd.Document();scribd_doc.document_id=A;scribd_doc.access_key=B;return scribd_doc};scribd.Document.getDocFromUrl=function(B,A){scribd_doc=new scribd.Document();scribd_doc.url=B;scribd_doc.publisher_id=A;return scribd_doc};scribd.Document.getDocFromUrlForExtension=function(A,B){scribd_doc=new scribd.Document();scribd_doc.url=A;scribd_doc.extension_id=B;scribd_doc.addParam("should_redirect",true);return scribd_doc};scribd.Document.prototype={__handleEvent:function(B){var C=this.__listenerLookup[B]||[];for(var A=0;A<C.length;A++){C[A]()}},__addRoutedListener:function(A,B){if(this.__listenerExists(A,B)){return }if(this.__listenerLookup[A]){this.__listenerLookup[A].push(B)}else{this.__listenerLookup[A]=new Array(B)}},__removeRoutedListener:function(B,D){var C=this.__listenerLookup[B];for(var A=0;A<C.length;A++){if(C[A]==D){C.splice(A,1)}}},__listenerExists:function(B,D){var C=this.__listenerLookup[B]||[];for(var A=0;A<C.length;A++){if(C[A]==D){return true}}return false},addEventListener:function(B,C,A){if(this.api){if(window.addEventListener){this.api.parentNode.addEventListener(B,C,false)}else{this.__addRoutedListener(B,C)}}else{this.__callQueue.push(["addEventListener",B,C,false])}},removeEventListener:function(A,B){if(this.api){if(window.addEventListener){this.api.removeEventListener(A,B,false)}else{this.__removeRoutedListener(A,B)}}else{this.__callQueue.push(["removeEventListener",A,B])}},getElement:function(){return document.getElementsByName(this.__embedName)[0]},addParam:function(A,B){this.__params[A]=B},grantAccess:function(B,C,A){this.__params.user_identifier=B;this.__params.secure_session_id=C;this.__params.signature=A},write:function(G){var A=document.getElementById(G);quickswitch=(this.__params.quickswitch==true);if(quickswitch){var J=document.createElement("div");J.style.width="100%";J.style.height="100%";document.body.appendChild(J)}var H=A.offsetWidth;var R="";var P="";if(this.__params.width&&this.__params.width!="parent"){H=this.__params.width}if(this.__params.mode){R=this.__params.mode;P+="&viewMode="+escape(this.__params.mode)}if(this.__params.height!="parent"){var C=Math.round(H*11/8.5);if(R=="slideshow"){C=35+Math.round(H*3/4)}var L=window.innerHeight!=null?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:document.body!=null?document.body.clientHeight:0;if(C>L){C=L}if(C<574){C=574}C="100%";var M="100%"}else{var M="100%"}var N="100%";var S=G+"_embed"+Math.round(Math.random()*9000000000);this.__embedName=S;var E="ScribdViewer";if(this.__params.auto_size!=true){P+="&auto_size=false"}if(this.__params.height&&this.__params.height!="parent"){M=this.__params.height+"px"}if(this.__params.width&&this.__params.width!="parent"){N=this.__params.width+"px"}if(this.__params.swf_name){E=this.__params.swf_name}if(this.__params.disable_related_docs){P+="&disable_related_docs="+this.__params.disable_related_docs}if(this.__params.page){P+="&page="+this.__params.page}if(this.__params.extension){P+="&extension="+this.__params.extension}if(this.__params.title){P+="&title="+escape(this.__params.title)}if(this.__params.my_user_id){P+="&my_user_id="+this.__params.my_user_id}if(this.__params.api_url){P+="&api_url="+this.__params.api_url}if(this.__params.doctype){P+="&doctype="+this.__params.doctype}if(this.__params.current_user_id){P+="&current_user_id="+this.__params.current_user_id}if(this.__params.search_query){P+="&search_query="+escape(this.__params.search_query)}if(this.__params.search_keywords){P+="&search_keywords="+escape(this.__params.search_keywords)}if(this.__params.transferCookie==true){P+="&cookie="+escape(document.cookie)}if(this.__params.should_redirect){P+="&should_redirect="+this.__params.should_redirect}if(this.__params.secret_password){P+="&secret_password="+this.__params.secret_password}if(this.__params["public"]==true){P+="&privacy=0"}else{P+="&privacy=1"}if(this.__params.user_identifier){P+="&user_identifier="+escape(this.__params.user_identifier)}if(this.__params.secure_session_id){P+="&secure_session_id="+escape(this.__params.secure_session_id)}if(this.__params.signature){P+="&signature="+this.__params.signature}if(this.__params.docinfo){P+="&docinfo="+encodeURIComponent(this.__params.docinfo)}if(this.__params.useIntegratedUi){P+="&useIntegratedUi="+this.__params.useIntegratedUi}if(this.document_id){P+="&document_id="+this.document_id}if(this.access_key){P+="&access_key="+this.access_key}if(this.extension_id){P+="&extension_id="+this.extension_id}if(this.url){P+="&url="+escape(this.url)}if(this.publisher_id){P+="&publisher_id="+escape(this.publisher_id)}var I="http://d1.scribdassets.com/";var K="http://";if(this.__params.use_ssl==true){I="https://s3.amazonaws.com/documents.scribd.com/";P+="&use_ssl=true";K="https://"}if(this.__params.src_path){I=this.__params.src_path}if(this.__params.hide_sample_banner){P+="&hide_sample_banner="+this.__params.hide_sample_banner}if(this.__params.disable_resume_reading==true){P+="&disable_resume_reading=true"}if(this.__params.hide_full_screen_button==true){P+="&hide_full_screen_button=true"}if(this.__params.hide_disabled_buttons==true){P+="&hide_disabled_buttons=true"}if(this.__params.full_screen_type){P+="&full_screen_type="+this.__params.full_screen_type}if(this.__params.custom_logo_image_url){P+="&custom_logo_image_url="+escape(this.__params.custom_logo_image_url)}if(this.__params.custom_logo_click_url){P+="&custom_logo_click_url="+escape(this.__params.custom_logo_click_url)}var B=Scribd_AC_RunActiveContent.Mod_AC_FL_RunContent("codebase",K+"download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0","width",N,"height",M,"flashvars",P,"class","maximise textbookContainer","src",I+E,"quality","high","pluginspage",K+"www.macromedia.com/go/getflashplayer","align","middle","play","true","loop","true","scale","showall","wmode","transparent","devicefont","false","id",S,"bgcolor","#ffffff","name",S,"menu","true","allowFullScreen","true","allowScriptAccess","always","movie",I+E,"salign","");var O=Scribd_AC_RunActiveContent.DetectFlashVer(9,0,0);if(!O){B='<div style="font-size:16px;width:300px;border:1px solid #dddddd;padding:3px">Hello, you have an old version of Adobe Flash Player. To use iPaper (and lots of other stuff on the web) you need to <a href="http://www.adobe.com/shockwave/download/download.cgi?P1_Prod_Version=ShockwaveFlash">get the latest Flash player</a>.  </div>'}if(quickswitch){J.innerHTML=B;if(A.hasChildNodes()){while(A.childNodes.length>=1){A.removeChild(A.firstChild)}}A.appendChild(J)}else{A.innerHTML=B}var D=this;window["_scribd_event_handler_"+S]=function(T){D.__handleEvent(T)};var Q=function(W){var W=W||{};var V=W.srcElement||document.getElementsByName(S)[0];if(V.getAttribute("name")==S){D.api=V;var U,Y,T,X=[];for(var U=0;U<D.__callQueue.length;U++){T=D.__callQueue[U];if(T[0]=="addEventListener"){Y=T.shift();D[Y].apply(D,T)}else{X.push(T)}}D.__callQueue=X}};var F=function(W){var W=W||{};var V=W.srcElement||document.getElementsByName(S)[0];if(V.getAttribute("name")==S){if(D.onReady){D.onReady()}var U,Y,T,X=[];for(U=0;U<D.__callQueue.length;U++){T=D.__callQueue.pop();if(T[0]!="addEventListener"){Y=T.shift();if(typeof Y!="function"){jAlert(typeof Y)}D[Y].apply(D,T)}else{X.push(T)}}D.__callQueue=X}};if(window.addEventListener){window.addEventListener("iPaperReady",F,true);window.addEventListener("setupJsApi",Q,true)}else{this.__addRoutedListener("iPaperReady",F);this.__addRoutedListener("setupJsApi",Q)}}};var Scribd_AC_RunActiveContent=new function(){var C=(navigator.appVersion.indexOf("MSIE")!=-1)?true:false;var B=(navigator.appVersion.toLowerCase().indexOf("win")!=-1)?true:false;var A=(navigator.userAgent.indexOf("Opera")!=-1)?true:false;this.ControlVersion=function(){var D;var E;var F;try{E=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");D=E.GetVariable("$version")}catch(F){}if(!D){try{E=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");D="WIN 6,0,21,0";E.AllowScriptAccess="always";D=E.GetVariable("$version")}catch(F){}}if(!D){try{E=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.3");D=E.GetVariable("$version")}catch(F){}}if(!D){try{E=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.3");D="WIN 3,0,18,0"}catch(F){}}if(!D){try{E=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");D="WIN 2,0,0,11"}catch(F){D=-1}}return D};this.GetSwfVer=function(){var J=-1;if(navigator.plugins!=null&&navigator.plugins.length>0){if(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]){var I=navigator.plugins["Shockwave Flash 2.0"]?" 2.0":"";var D=navigator.plugins["Shockwave Flash"+I].description;var H=D.split(" ");var F=H[2].split(".");var K=F[0];var E=F[1];var G=H[3];if(G==""){G=H[4]}if(G[0]=="d"){G=G.substring(1)}else{if(G[0]=="r"){G=G.substring(1);if(G.indexOf("d")>0){G=G.substring(0,G.indexOf("d"))}}}var J=K+"."+E+"."+G}}else{if(navigator.userAgent.toLowerCase().indexOf("webtv/2.6")!=-1){J=4}else{if(navigator.userAgent.toLowerCase().indexOf("webtv/2.5")!=-1){J=3}else{if(navigator.userAgent.toLowerCase().indexOf("webtv")!=-1){J=2}else{if(C&&B&&!A){J=this.ControlVersion()}}}}}return J};this.DetectFlashVer=function(I,G,F){versionStr=this.GetSwfVer();if(versionStr==-1){return false}else{if(versionStr!=0){if(C&&B&&!A){tempArray=versionStr.split(" ");tempString=tempArray[1];versionArray=tempString.split(",")}else{versionArray=versionStr.split(".")}var H=versionArray[0];var D=versionArray[1];var E=versionArray[2];if(H>parseFloat(I)){return true}else{if(H==parseFloat(I)){if(D>parseFloat(G)){return true}else{if(D==parseFloat(G)){if(E>=parseFloat(F)){return true}}}}}return false}}};this.AC_AddExtension=function(E,D){if(E.indexOf("?")!=-1){return E.replace(/\?/,D+"?")}else{return E+D}};this.Mod_AC_Generateobj=function(H,G,D){var F="";if(C&&B&&!A){F+="<object ";for(var E in H){F+=E+'="'+H[E]+'" '}F+=">";for(var E in G){F+='<param name="'+E+'" value="'+G[E]+'" /> '}F+="</object>"}else{F+="<embed ";for(var E in D){F+=E+'="'+D[E]+'" '}F+="> </embed>"}return F};this.Mod_AC_FL_RunContent=function(){var D=this.Mod_AC_GetArgs(arguments,".swf","movie","clsid:d27cdb6e-ae6d-11cf-96b8-444553540000","application/x-shockwave-flash");return this.Mod_AC_Generateobj(D.objAttrs,D.params,D.embedAttrs)};this.Mod_AC_SW_RunContent=function(){var D=this.Mod_AC_GetArgs(arguments,".dcr","src","clsid:166B1BCA-3F9C-11CF-8075-444553540000",null);return this.Mod_AC_Generateobj(D.objAttrs,D.params,D.embedAttrs)};this.Mod_AC_GetArgs=function(E,H,J,G,K){var D=new Object();D.embedAttrs=new Object();D.params=new Object();D.objAttrs=new Object();for(var F=0;F<E.length;F=F+2){var I=E[F].toLowerCase();switch(I){case"classid":break;case"pluginspage":D.embedAttrs[E[F]]=E[F+1];break;case"src":case"movie":E[F+1]=this.AC_AddExtension(E[F+1],H);D.embedAttrs.src=E[F+1];D.params[J]=E[F+1];break;case"onafterupdate":case"onbeforeupdate":case"onblur":case"oncellchange":case"onclick":case"ondblclick":case"ondrag":case"ondragend":case"ondragenter":case"ondragleave":case"ondragover":case"ondrop":case"onfinish":case"onfocus":case"onhelp":case"onmousedown":case"onmouseup":case"onmouseover":case"onmousemove":case"onmouseout":case"onkeypress":case"onkeydown":case"onkeyup":case"onload":case"onlosecapture":case"onpropertychange":case"onreadystatechange":case"onrowsdelete":case"onrowenter":case"onrowexit":case"onrowsinserted":case"onstart":case"onscroll":case"onbeforeeditfocus":case"onactivate":case"onbeforedeactivate":case"ondeactivate":case"type":case"codebase":case"id":D.objAttrs[E[F]]=E[F+1];break;case"width":case"height":case"align":case"vspace":case"hspace":case"class":case"title":case"accesskey":case"name":case"tabindex":D.embedAttrs[E[F]]=D.objAttrs[E[F]]=E[F+1];break;default:D.embedAttrs[E[F]]=D.params[E[F]]=E[F+1]}}D.objAttrs.classid=G;if(K){D.embedAttrs.type=K}return D};if(typeof scribd_view_callback!="undefined"){scribd_view_callback()}}}(function(){var rsplit=function(string,regex){var result=regex.exec(string),retArr=new Array(),first_idx,last_idx,first_bit;while(result!=null){first_idx=result.index;last_idx=regex.lastIndex;if((first_idx)!=0){first_bit=string.substring(0,first_idx);retArr.push(string.substring(0,first_idx));string=string.slice(first_idx)}retArr.push(result[0]);string=string.slice(result[0].length);result=regex.exec(string)}if(!string==""){retArr.push(string)}return retArr},chop=function(string){return string.substr(0,string.length-1)},extend=function(d,s){for(var n in s){if(s.hasOwnProperty(n)){d[n]=s[n]}}};EJS=function(options){options=typeof options=="string"?{view:options}:options;this.set_options(options);if(options.precompiled){this.template={};this.template.process=options.precompiled;EJS.update(this.name,this);return }if(options.element){if(typeof options.element=="string"){var name=options.element;options.element=document.getElementById(options.element);if(options.element==null){throw name+"does not exist!"}}if(options.element.value){this.text=options.element.value}else{this.text=options.element.innerHTML}this.name=options.element.id;this.type="["}else{if(options.url){options.url=EJS.endExt(options.url,this.extMatch);this.name=this.name?this.name:options.url;options.url=$.browser.msie?options.url.replace(STATIC_FILE_PATH,".."):options.url;var url=options.url;var template=EJS.get(this.name,this.cache);if(template){return template}if(template==EJS.INVALID_PATH){return null}try{this.text=EJS.request(url+(this.cache?"":"?"+Math.random()))}catch(e){}if(this.text==null){throw ({type:"EJS",message:"There is no template at "+url})}}}var template=new EJS.Compiler(this.text,this.type);template.compile(options,this.name);EJS.update(this.name,this);this.template=template};EJS.prototype={render:function(object,extra_helpers){object=object||{};this._extra_helpers=extra_helpers;var v=new EJS.Helpers(object,extra_helpers||{});return this.template.process.call(object,object,v)},update:function(element,options){if(typeof element=="string"){element=document.getElementById(element)}if(options==null){_template=this;return function(object){EJS.prototype.update.call(_template,element,object)}}if(typeof options=="string"){params={};params.url=options;_template=this;params.onComplete=function(request){var object=eval(request.responseText);EJS.prototype.update.call(_template,element,object)};EJS.ajax_request(params)}else{element.innerHTML=this.render(options)}},out:function(){return this.template.out},set_options:function(options){this.type=options.type||EJS.type;this.cache=options.cache!=null?options.cache:EJS.cache;this.text=options.text||null;this.name=options.name||null;this.ext=options.ext||EJS.ext;this.extMatch=new RegExp(this.ext.replace(/\./,"."))}};EJS.endExt=function(path,match){if(!path){return null}match.lastIndex=0;return path+(match.test(path)?"":this.ext)};EJS.Scanner=function(source,left,right){extend(this,{left_delimiter:left+"%",right_delimiter:"%"+right,double_left:left+"%%",double_right:"%%"+right,left_equal:left+"%=",left_comment:left+"%#"});this.SplitRegexp=left=="["?/(\[%%)|(%%\])|(\[%=)|(\[%#)|(\[%)|(%\]\n)|(%\])|(\n)/:new RegExp("("+this.double_left+")|(%%"+this.double_right+")|("+this.left_equal+")|("+this.left_comment+")|("+this.left_delimiter+")|("+this.right_delimiter+"\n)|("+this.right_delimiter+")|(\n)");this.source=source;this.stag=null;this.lines=0};EJS.Scanner.to_text=function(input){if(input==null||input===undefined){return""}if(input instanceof Date){return input.toDateString()}if(input.toString){return input.toString()}return""};EJS.Scanner.prototype={scan:function(block){scanline=this.scanline;regex=this.SplitRegexp;if(!this.source==""){var source_split=rsplit(this.source,/\n/);for(var i=0;i<source_split.length;i++){var item=source_split[i];this.scanline(item,regex,block)}}},scanline:function(line,regex,block){this.lines++;var line_split=rsplit(line,regex);for(var i=0;i<line_split.length;i++){var token=line_split[i];if(token!=null){try{block(token,this)}catch(e){throw {type:"EJS.Scanner",line:this.lines}}}}}};EJS.Buffer=function(pre_cmd,post_cmd){this.line=new Array();this.script="";this.pre_cmd=pre_cmd;this.post_cmd=post_cmd;for(var i=0;i<this.pre_cmd.length;i++){this.push(pre_cmd[i])}};EJS.Buffer.prototype={push:function(cmd){this.line.push(cmd)},cr:function(){this.script=this.script+this.line.join("; ");this.line=new Array();this.script=this.script+"\n"},close:function(){if(this.line.length>0){for(var i=0;i<this.post_cmd.length;i++){this.push(pre_cmd[i])}this.script=this.script+this.line.join("; ");line=null}}};EJS.Compiler=function(source,left){this.pre_cmd=["var ___ViewO = [];"];this.post_cmd=new Array();this.source=" ";if(source!=null){if(typeof source=="string"){source=source.replace(/\r\n/g,"\n");source=source.replace(/\r/g,"\n");this.source=source}else{if(source.innerHTML){this.source=source.innerHTML}}if(typeof this.source!="string"){this.source=""}}left=left||"<";var right=">";switch(left){case"[":right="]";break;case"<":break;default:throw left+" is not a supported deliminator";break}this.scanner=new EJS.Scanner(this.source,left,right);this.out=""};EJS.Compiler.prototype={compile:function(options,name){options=options||{};this.out="";var put_cmd="___ViewO.push(";var insert_cmd=put_cmd;var buff=new EJS.Buffer(this.pre_cmd,this.post_cmd);var content="";var clean=function(content){content=content.replace(/\\/g,"\\\\");content=content.replace(/\n/g,"\\n");content=content.replace(/"/g,'\\"');return content};this.scanner.scan(function(token,scanner){if(scanner.stag==null){switch(token){case"\n":content=content+"\n";buff.push(put_cmd+'"'+clean(content)+'");');buff.cr();content="";break;case scanner.left_delimiter:case scanner.left_equal:case scanner.left_comment:scanner.stag=token;if(content.length>0){buff.push(put_cmd+'"'+clean(content)+'")')}content="";break;case scanner.double_left:content=content+scanner.left_delimiter;break;default:content=content+token;break}}else{switch(token){case scanner.right_delimiter:switch(scanner.stag){case scanner.left_delimiter:if(content[content.length-1]=="\n"){content=chop(content);buff.push(content);buff.cr()}else{buff.push(content)}break;case scanner.left_equal:buff.push(insert_cmd+"(EJS.Scanner.to_text("+content+")))");break}scanner.stag=null;content="";break;case scanner.double_right:content=content+scanner.right_delimiter;break;default:content=content+token;break}}});if(content.length>0){buff.push(put_cmd+'"'+clean(content)+'")')}buff.close();this.out=buff.script+";";var to_be_evaled="/*"+name+"*/this.process = function(_CONTEXT,_VIEW) { try { with(_VIEW) { with (_CONTEXT) {"+this.out+" return ___ViewO.join('');}}}catch(e){e.lineNumber=null;throw e;}};";try{eval(to_be_evaled)}catch(e){if(typeof JSLINT!="undefined"){JSLINT(this.out);for(var i=0;i<JSLINT.errors.length;i++){var error=JSLINT.errors[i];if(error.reason!="Unnecessary semicolon."){error.line++;var e=new Error();e.lineNumber=error.line;e.message=error.reason;if(options.view){e.fileName=options.view}throw e}}}else{throw e}}}};EJS.config=function(options){EJS.cache=options.cache!=null?options.cache:EJS.cache;EJS.type=options.type!=null?options.type:EJS.type;EJS.ext=options.ext!=null?options.ext:EJS.ext;var templates_directory=EJS.templates_directory||{};EJS.templates_directory=templates_directory;EJS.get=function(path,cache){if(cache==false){return null}if(templates_directory[path]){return templates_directory[path]}return null};EJS.update=function(path,template){if(path==null){return }templates_directory[path]=template};EJS.INVALID_PATH=-1};EJS.config({cache:true,type:"<",ext:".ejs"});EJS.Helpers=function(data,extras){this._data=data;this._extras=extras;extend(this,extras)};EJS.Helpers.prototype={view:function(options,data,helpers){if(!helpers){helpers=this._extras}if(!data){data=this._data}return new EJS(options).render(data,helpers)},to_text:function(input,null_text){if(input==null||input===undefined){return null_text||""}if(input instanceof Date){return input.toDateString()}if(input.toString){return input.toString().replace(/\n/g,"<br />").replace(/''/g,"'")}return""}};EJS.newRequest=function(){var factories=[function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new XMLHttpRequest()},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];for(var i=0;i<factories.length;i++){try{var request=factories[i]();if(request!=null){return request}}catch(e){continue}}};EJS.request=function(path){var request=new EJS.newRequest();request.open("GET",path,false);try{request.send(null)}catch(e){return null}if(request.status==404||request.status==2||(request.status==0&&request.responseText=="")){return null}return request.responseText};EJS.ajax_request=function(params){params.method=(params.method?params.method:"GET");var request=new EJS.newRequest();request.onreadystatechange=function(){if(request.readyState==4){if(request.status==200){params.onComplete(request)}else{params.onComplete(request)}}};request.open(params.method,params.url);request.send(null)}})();var swfobject=function(){var b="undefined",Q="object",n="Shockwave Flash",p="ShockwaveFlash.ShockwaveFlash",P="application/x-shockwave-flash",m="SWFObjectExprInst",j=window,K=document,T=navigator,o=[],N=[],i=[],d=[],J,Z=null,M=null,l=null,e=false,A=false;var h=function(){var v=typeof K.getElementById!=b&&typeof K.getElementsByTagName!=b&&typeof K.createElement!=b,AC=[0,0,0],x=null;if(typeof T.plugins!=b&&typeof T.plugins[n]==Q){x=T.plugins[n].description;if(x&&!(typeof T.mimeTypes!=b&&T.mimeTypes[P]&&!T.mimeTypes[P].enabledPlugin)){x=x.replace(/^.*\s+(\S+\s+\S+$)/,"$1");AC[0]=parseInt(x.replace(/^(.*)\..*$/,"$1"),10);AC[1]=parseInt(x.replace(/^.*\.(.*)\s.*$/,"$1"),10);AC[2]=/r/.test(x)?parseInt(x.replace(/^.*r(.*)$/,"$1"),10):0}}else{if(typeof j.ActiveXObject!=b){var y=null,AB=false;try{y=new ActiveXObject(p+".7")}catch(t){try{y=new ActiveXObject(p+".6");AC=[6,0,21];y.AllowScriptAccess="always"}catch(t){if(AC[0]==6){AB=true}}if(!AB){try{y=new ActiveXObject(p)}catch(t){}}}if(!AB&&y){try{x=y.GetVariable("$version");if(x){x=x.split(" ")[1].split(",");AC=[parseInt(x[0],10),parseInt(x[1],10),parseInt(x[2],10)]}}catch(t){}}}}var AD=T.userAgent.toLowerCase(),r=T.platform.toLowerCase(),AA=/webkit/.test(AD)?parseFloat(AD.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,q=false,z=r?/win/.test(r):/win/.test(AD),w=r?/mac/.test(r):/mac/.test(AD);
/*@cc_on q=true;@if(@_win32)z=true;@elif(@_mac)w=true;@end@*/
return{w3cdom:v,pv:AC,webkit:AA,ie:q,win:z,mac:w}}();var L=function(){if(!h.w3cdom){return }f(H);if(h.ie&&h.win){try{K.write("<script id=__ie_ondomload defer=true src=//:><\/script>");J=C("__ie_ondomload");if(J){I(J,"onreadystatechange",S)}}catch(q){}}if(h.webkit&&typeof K.readyState!=b){Z=setInterval(function(){if(/loaded|complete/.test(K.readyState)){E()}},10)}if(typeof K.addEventListener!=b){K.addEventListener("DOMContentLoaded",E,null)}R(E)}();function S(){if(J.readyState=="complete"){J.parentNode.removeChild(J);E()}}function E(){if(e){return }if(h.ie&&h.win){var v=a("span");try{var u=K.getElementsByTagName("body")[0].appendChild(v);u.parentNode.removeChild(u)}catch(w){return }}e=true;if(Z){clearInterval(Z);Z=null}var q=o.length;for(var r=0;r<q;r++){o[r]()}}function f(q){if(e){q()}else{o[o.length]=q}}function R(r){if(typeof j.addEventListener!=b){j.addEventListener("load",r,false)}else{if(typeof K.addEventListener!=b){K.addEventListener("load",r,false)}else{if(typeof j.attachEvent!=b){I(j,"onload",r)}else{if(typeof j.onload=="function"){var q=j.onload;j.onload=function(){q();r()}}else{j.onload=r}}}}}function H(){var t=N.length;for(var q=0;q<t;q++){var u=N[q].id;if(h.pv[0]>0){var r=C(u);if(r){N[q].width=r.getAttribute("width")?r.getAttribute("width"):"0";N[q].height=r.getAttribute("height")?r.getAttribute("height"):"0";if(c(N[q].swfVersion)){if(h.webkit&&h.webkit<312){Y(r)}W(u,true)}else{if(N[q].expressInstall&&!A&&c("6.0.65")&&(h.win||h.mac)){k(N[q])}else{O(r)}}}}else{W(u,true)}}}function Y(t){var q=t.getElementsByTagName(Q)[0];if(q){var w=a("embed"),y=q.attributes;if(y){var v=y.length;for(var u=0;u<v;u++){if(y[u].nodeName=="DATA"){w.setAttribute("src",y[u].nodeValue)}else{w.setAttribute(y[u].nodeName,y[u].nodeValue)}}}var x=q.childNodes;if(x){var z=x.length;for(var r=0;r<z;r++){if(x[r].nodeType==1&&x[r].nodeName=="PARAM"){w.setAttribute(x[r].getAttribute("name"),x[r].getAttribute("value"))}}}t.parentNode.replaceChild(w,t)}}function k(w){A=true;var u=C(w.id);if(u){if(w.altContentId){var y=C(w.altContentId);if(y){M=y;l=w.altContentId}}else{M=G(u)}if(!(/%$/.test(w.width))&&parseInt(w.width,10)<310){w.width="310"}if(!(/%$/.test(w.height))&&parseInt(w.height,10)<137){w.height="137"}K.title=K.title.slice(0,47)+" - Flash Player Installation";var z=h.ie&&h.win?"ActiveX":"PlugIn",q=K.title,r="MMredirectURL="+j.location+"&MMplayerType="+z+"&MMdoctitle="+q,x=w.id;if(h.ie&&h.win&&u.readyState!=4){var t=a("div");x+="SWFObjectNew";t.setAttribute("id",x);u.parentNode.insertBefore(t,u);u.style.display="none";var v=function(){u.parentNode.removeChild(u)};I(j,"onload",v)}U({data:w.expressInstall,id:m,width:w.width,height:w.height},{flashvars:r},x)}}function O(t){if(h.ie&&h.win&&t.readyState!=4){var r=a("div");t.parentNode.insertBefore(r,t);r.parentNode.replaceChild(G(t),r);t.style.display="none";var q=function(){t.parentNode.removeChild(t)};I(j,"onload",q)}else{t.parentNode.replaceChild(G(t),t)}}function G(v){var u=a("div");if(h.win&&h.ie){u.innerHTML=v.innerHTML}else{var r=v.getElementsByTagName(Q)[0];if(r){var w=r.childNodes;if(w){var q=w.length;for(var t=0;t<q;t++){if(!(w[t].nodeType==1&&w[t].nodeName=="PARAM")&&!(w[t].nodeType==8)){u.appendChild(w[t].cloneNode(true))}}}}}return u}function U(AG,AE,t){var q,v=C(t);if(v){if(typeof AG.id==b){AG.id=t}if(h.ie&&h.win){var AF="";for(var AB in AG){if(AG[AB]!=Object.prototype[AB]){if(AB.toLowerCase()=="data"){AE.movie=AG[AB]}else{if(AB.toLowerCase()=="styleclass"){AF+=' class="'+AG[AB]+'"'}else{if(AB.toLowerCase()!="classid"){AF+=" "+AB+'="'+AG[AB]+'"'}}}}}var AD="";for(var AA in AE){if(AE[AA]!=Object.prototype[AA]){AD+='<param name="'+AA+'" value="'+AE[AA]+'" />'}}v.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+AF+">"+AD+"</object>";i[i.length]=AG.id;q=C(AG.id)}else{if(h.webkit&&h.webkit<312){var AC=a("embed");AC.setAttribute("type",P);for(var z in AG){if(AG[z]!=Object.prototype[z]){if(z.toLowerCase()=="data"){AC.setAttribute("src",AG[z])}else{if(z.toLowerCase()=="styleclass"){AC.setAttribute("class",AG[z])}else{if(z.toLowerCase()!="classid"){AC.setAttribute(z,AG[z])}}}}}for(var y in AE){if(AE[y]!=Object.prototype[y]){if(y.toLowerCase()!="movie"){AC.setAttribute(y,AE[y])}}}v.parentNode.replaceChild(AC,v);q=AC}else{var u=a(Q);u.setAttribute("type",P);for(var x in AG){if(AG[x]!=Object.prototype[x]){if(x.toLowerCase()=="styleclass"){u.setAttribute("class",AG[x])}else{if(x.toLowerCase()!="classid"){u.setAttribute(x,AG[x])}}}}for(var w in AE){if(AE[w]!=Object.prototype[w]&&w.toLowerCase()!="movie"){F(u,w,AE[w])}}v.parentNode.replaceChild(u,v);q=u}}}return q}function F(t,q,r){var u=a("param");u.setAttribute("name",q);u.setAttribute("value",r);t.appendChild(u)}function X(r){var q=C(r);if(q&&(q.nodeName=="OBJECT"||q.nodeName=="EMBED")){if(h.ie&&h.win){if(q.readyState==4){B(r)}else{j.attachEvent("onload",function(){B(r)})}}else{q.parentNode.removeChild(q)}}}function B(t){var r=C(t);if(r){for(var q in r){if(typeof r[q]=="function"){r[q]=null}}r.parentNode.removeChild(r)}}function C(t){var q=null;try{q=K.getElementById(t)}catch(r){}return q}function a(q){return K.createElement(q)}function I(t,q,r){t.attachEvent(q,r);d[d.length]=[t,q,r]}function c(t){var r=h.pv,q=t.split(".");q[0]=parseInt(q[0],10);q[1]=parseInt(q[1],10)||0;q[2]=parseInt(q[2],10)||0;return(r[0]>q[0]||(r[0]==q[0]&&r[1]>q[1])||(r[0]==q[0]&&r[1]==q[1]&&r[2]>=q[2]))?true:false}function V(v,r){if(h.ie&&h.mac){return }var u=K.getElementsByTagName("head")[0],t=a("style");t.setAttribute("type","text/css");t.setAttribute("media","screen");if(!(h.ie&&h.win)&&typeof K.createTextNode!=b){t.appendChild(K.createTextNode(v+" {"+r+"}"))}u.appendChild(t);if(h.ie&&h.win&&typeof K.styleSheets!=b&&K.styleSheets.length>0){var q=K.styleSheets[K.styleSheets.length-1];if(typeof q.addRule==Q){q.addRule(v,r)}}}function W(t,q){var r=q?"visible":"hidden";if(e&&C(t)){C(t).style.visibility=r}else{V("#"+t,"visibility:"+r)}}function g(s){var r=/[\\\"<>\.;]/;var q=r.exec(s)!=null;return q?encodeURIComponent(s):s}var D=function(){if(h.ie&&h.win){window.attachEvent("onunload",function(){var w=d.length;for(var v=0;v<w;v++){d[v][0].detachEvent(d[v][1],d[v][2])}var t=i.length;for(var u=0;u<t;u++){X(i[u])}for(var r in h){h[r]=null}h=null;for(var q in swfobject){swfobject[q]=null}swfobject=null})}}();return{registerObject:function(u,q,t){if(!h.w3cdom||!u||!q){return }var r={};r.id=u;r.swfVersion=q;r.expressInstall=t?t:false;N[N.length]=r;W(u,false)},getObjectById:function(v){var q=null;if(h.w3cdom){var t=C(v);if(t){var u=t.getElementsByTagName(Q)[0];if(!u||(u&&typeof t.SetVariable!=b)){q=t}else{if(typeof u.SetVariable!=b){q=u}}}}return q},embedSWF:function(x,AE,AB,AD,q,w,r,z,AC){if(!h.w3cdom||!x||!AE||!AB||!AD||!q){return }AB+="";AD+="";if(c(q)){W(AE,false);var AA={};if(AC&&typeof AC===Q){for(var v in AC){if(AC[v]!=Object.prototype[v]){AA[v]=AC[v]}}}AA.data=x;AA.width=AB;AA.height=AD;var y={};if(z&&typeof z===Q){for(var u in z){if(z[u]!=Object.prototype[u]){y[u]=z[u]}}}if(r&&typeof r===Q){for(var t in r){if(r[t]!=Object.prototype[t]){if(typeof y.flashvars!=b){y.flashvars+="&"+t+"="+r[t]}else{y.flashvars=t+"="+r[t]}}}}f(function(){U(AA,y,AE);if(AA.id==AE){W(AE,true)}})}else{if(w&&!A&&c("6.0.65")&&(h.win||h.mac)){A=true;W(AE,false);f(function(){var AF={};AF.id=AF.altContentId=AE;AF.width=AB;AF.height=AD;AF.expressInstall=w;k(AF)})}}},getFlashPlayerVersion:function(){return{major:h.pv[0],minor:h.pv[1],release:h.pv[2]}},hasFlashPlayerVersion:c,createSWF:function(t,r,q){if(h.w3cdom){return U(t,r,q)}else{return undefined}},removeSWF:function(q){if(h.w3cdom){X(q)}},createCSS:function(r,q){if(h.w3cdom){V(r,q)}},addDomLoadEvent:f,addLoadEvent:R,getQueryParamValue:function(v){var u=K.location.search||K.location.hash;if(v==null){return g(u)}if(u){var t=u.substring(1).split("&");for(var r=0;r<t.length;r++){if(t[r].substring(0,t[r].indexOf("="))==v){return g(t[r].substring((t[r].indexOf("=")+1)))}}}return""},expressInstallCallback:function(){if(A&&M){var q=C(m);if(q){q.parentNode.replaceChild(M,q);if(l){W(l,true);if(h.ie&&h.win){M.style.display="block"}}M=null;l=null;A=false}}}}}();if(typeof deconcept=="undefined"){var deconcept=new Object()}if(typeof deconcept.util=="undefined"){deconcept.util=new Object()}if(typeof deconcept.SWFObjectUtil=="undefined"){deconcept.SWFObjectUtil=new Object()}deconcept.SWFObject=function(K,B,L,D,H,I,F,E,C,J){if(!document.getElementById){return }this.DETECT_KEY=J?J:"detectflash";this.skipDetect=deconcept.util.getRequestParameter(this.DETECT_KEY);this.params=new Object();this.variables=new Object();this.attributes=new Array();if(K){this.setAttribute("swf",K)}if(B){this.setAttribute("id",B)}if(L){this.setAttribute("width",L)}if(D){this.setAttribute("height",D)}if(H){this.setAttribute("version",new deconcept.PlayerVersion(H.toString().split(".")))}this.installedVer=deconcept.SWFObjectUtil.getPlayerVersion();if(!window.opera&&document.all&&this.installedVer.major>7){deconcept.SWFObject.doPrepUnload=true}if(I){this.addParam("bgcolor",I)}var A=F?F:"high";this.addParam("quality",A);this.setAttribute("useExpressInstall",false);this.setAttribute("doExpressInstall",false);var G=(E)?E:window.location;this.setAttribute("xiRedirectUrl",G);this.setAttribute("redirectUrl","");if(C){this.setAttribute("redirectUrl",C)}};deconcept.SWFObject.prototype={useExpressInstall:function(A){this.xiSWFPath=!A?"expressinstall.swf":A;this.setAttribute("useExpressInstall",true)},setAttribute:function(A,B){this.attributes[A]=B},getAttribute:function(A){return this.attributes[A]},addParam:function(B,A){this.params[B]=A},getParams:function(){return this.params},addVariable:function(B,A){this.variables[B]=A},getVariable:function(A){return this.variables[A]},getVariables:function(){return this.variables},getVariablePairs:function(){var C=new Array();var B;var A=this.getVariables();for(B in A){C[C.length]=B+"="+A[B]}return C},getSWFHTML:function(){var B="";if(navigator.plugins&&navigator.mimeTypes&&navigator.mimeTypes.length){if(this.getAttribute("doExpressInstall")){this.addVariable("MMplayerType","PlugIn");this.setAttribute("swf",this.xiSWFPath)}B='<embed type="application/x-shockwave-flash" src="'+this.getAttribute("swf")+'" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'" style="'+this.getAttribute("style")+'"';B+=' id="'+this.getAttribute("id")+'" name="'+this.getAttribute("id")+'" ';var F=this.getParams();for(var E in F){B+=[E]+'="'+F[E]+'" '}var D=this.getVariablePairs().join("&");if(D.length>0){B+='flashvars="'+D+'"'}B+="/>"}else{if(this.getAttribute("doExpressInstall")){this.addVariable("MMplayerType","ActiveX");this.setAttribute("swf",this.xiSWFPath)}B='<object id="'+this.getAttribute("id")+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'" style="'+this.getAttribute("style")+'">';B+='<param name="movie" value="'+this.getAttribute("swf")+'" />';var C=this.getParams();for(var E in C){B+='<param name="'+E+'" value="'+C[E]+'" />'}var A=this.getVariablePairs().join("&");if(A.length>0){B+='<param name="flashvars" value="'+A+'" />'}B+="</object>"}return B},write:function(B){if(this.getAttribute("useExpressInstall")){var A=new deconcept.PlayerVersion([6,0,65]);if(this.installedVer.versionIsValid(A)&&!this.installedVer.versionIsValid(this.getAttribute("version"))){this.setAttribute("doExpressInstall",true);this.addVariable("MMredirectURL",escape(this.getAttribute("xiRedirectUrl")));document.title=document.title.slice(0,47)+" - Flash Player Installation";this.addVariable("MMdoctitle",document.title)}}if(this.skipDetect||this.getAttribute("doExpressInstall")||this.installedVer.versionIsValid(this.getAttribute("version"))){var C=(typeof B=="string")?document.getElementById(B):B;C.innerHTML=this.getSWFHTML();return true}else{if(this.getAttribute("redirectUrl")!=""){document.location.replace(this.getAttribute("redirectUrl"))}}return false}};deconcept.SWFObjectUtil.getPlayerVersion=function(){var E=new deconcept.PlayerVersion([0,0,0]);if(navigator.plugins&&navigator.mimeTypes.length){var A=navigator.plugins["Shockwave Flash"];if(A&&A.description){E=new deconcept.PlayerVersion(A.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s+r|\s+b[0-9]+)/,".").split("."))}}else{if(navigator.userAgent&&navigator.userAgent.indexOf("Windows CE")>=0){var B=1;var C=3;while(B){try{C++;B=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+C);E=new deconcept.PlayerVersion([C,0,0])}catch(D){B=null}}}else{try{var B=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7")}catch(D){try{var B=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");E=new deconcept.PlayerVersion([6,0,21]);B.AllowScriptAccess="always"}catch(D){if(E.major==6){return E}}try{B=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(D){}}if(B!=null){E=new deconcept.PlayerVersion(B.GetVariable("$version").split(" ")[1].split(","))}}}return E};deconcept.PlayerVersion=function(A){this.major=A[0]!=null?parseInt(A[0]):0;this.minor=A[1]!=null?parseInt(A[1]):0;this.rev=A[2]!=null?parseInt(A[2]):0};deconcept.PlayerVersion.prototype.versionIsValid=function(A){if(this.major<A.major){return false}if(this.major>A.major){return true}if(this.minor<A.minor){return false}if(this.minor>A.minor){return true}if(this.rev<A.rev){return false}return true};deconcept.util={getRequestParameter:function(C){var D=document.location.search||document.location.hash;if(C==null){return D}if(D){var B=D.substring(1).split("&");for(var A=0;A<B.length;A++){if(B[A].substring(0,B[A].indexOf("="))==C){return B[A].substring((B[A].indexOf("=")+1))}}}return""}};deconcept.SWFObjectUtil.cleanupSWFs=function(){var B=document.getElementsByTagName("OBJECT");for(var C=B.length-1;C>=0;C--){B[C].style.display="none";for(var A in B[C]){if(typeof B[C][A]=="function"){B[C][A]=function(){}}}}};if(deconcept.SWFObject.doPrepUnload){if(!deconcept.unloadSet){deconcept.SWFObjectUtil.prepUnload=function(){__flash_unloadHandler=function(){};__flash_savedUnloadHandler=function(){};window.attachEvent("onunload",deconcept.SWFObjectUtil.cleanupSWFs)};window.attachEvent("onbeforeunload",deconcept.SWFObjectUtil.prepUnload);deconcept.unloadSet=true}}if(!document.getElementById&&document.all){document.getElementById=function(A){return document.all[A]}}var getQueryParamValue=deconcept.util.getRequestParameter;var FlashObject=deconcept.SWFObject;var SWFObject=deconcept.SWFObject;(function(A){A.fn.bgIframe=A.fn.bgiframe=function(D){if(A.browser.msie&&/6.0/.test(navigator.userAgent)){D=A.extend({top:"auto",left:"auto",width:"auto",height:"auto",opacity:true,src:"javascript:false;"},D||{});var C=function(E){return E&&E.constructor==Number?E+"px":E},B='<iframe class="bgiframe"frameborder="0"tabindex="-1"src="'+D.src+'"style="display:block;position:absolute;z-index:-1;'+(D.opacity!==false?"filter:Alpha(Opacity='0');":"")+"top:"+(D.top=="auto"?"expression(((parseInt(this.parentNode.currentStyle.borderTopWidth)||0)*-1)+'px')":C(D.top))+";left:"+(D.left=="auto"?"expression(((parseInt(this.parentNode.currentStyle.borderLeftWidth)||0)*-1)+'px')":C(D.left))+";width:"+(D.width=="auto"?"expression(this.parentNode.offsetWidth+'px')":C(D.width))+";height:"+(D.height=="auto"?"expression(this.parentNode.offsetHeight+'px')":C(D.height))+';"/>';return this.each(function(){if(A("> iframe.bgiframe",this).length==0){this.insertBefore(document.createElement(B),this.firstChild)}})}return this}})(jQuery);(function(A){A.fn.hoverIntent=function(I,H){var J={sensitivity:7,interval:100,timeout:0};J=A.extend(J,H?{over:I,out:H}:I);var L,K,F,D;var E=function(M){L=M.pageX;K=M.pageY};var C=function(N,M){M.hoverIntent_t=clearTimeout(M.hoverIntent_t);if((Math.abs(F-L)+Math.abs(D-K))<J.sensitivity){A(M).unbind("mousemove",E);M.hoverIntent_s=1;return J.over.apply(M,[N])}else{F=L;D=K;M.hoverIntent_t=setTimeout(function(){C(N,M)},J.interval)}};var G=function(N,M){M.hoverIntent_t=clearTimeout(M.hoverIntent_t);M.hoverIntent_s=0;return J.out.apply(M,[N])};var B=function(O){var N=jQuery.extend({},O);var M=this;if(M.hoverIntent_t){M.hoverIntent_t=clearTimeout(M.hoverIntent_t)}if(O.type=="mouseenter"){F=N.pageX;D=N.pageY;A(M).bind("mousemove",E);if(M.hoverIntent_s!=1){M.hoverIntent_t=setTimeout(function(){C(N,M)},J.interval)}}else{A(M).unbind("mousemove",E);if(M.hoverIntent_s==1){M.hoverIntent_t=setTimeout(function(){G(N,M)},J.timeout)}}};return this.bind("mouseenter",B).bind("mouseleave",B)}})(jQuery);jQuery.bt={version:"0.9.5-rc1"};(function($){jQuery.fn.bt=function(content,options){if(typeof content!="string"){var contentSelect=true;options=content;content=false}else{var contentSelect=false}if(jQuery.fn.hoverIntent&&jQuery.bt.defaults.trigger=="hover"){jQuery.bt.defaults.trigger="hoverIntent"}return this.each(function(index){var opts=jQuery.extend(false,jQuery.bt.defaults,jQuery.bt.options,options);opts.spikeLength=numb(opts.spikeLength);opts.spikeGirth=numb(opts.spikeGirth);opts.overlap=numb(opts.overlap);var ajaxTimeout=false;if(opts.killTitle){$(this).find("[title]").andSelf().each(function(){if(!$(this).attr("bt-xTitle")){}})}if(typeof opts.trigger=="string"){opts.trigger=[opts.trigger]}if(opts.trigger[0]=="hoverIntent"){var hoverOpts=jQuery.extend(opts.hoverIntentOpts,{over:function(){this.btOn()},out:function(){this.btOff()}});$(this).hoverIntent(hoverOpts)}else{if(opts.trigger[0]=="hover"){$(this).hover(function(){this.btOn()},function(){this.btOff()})}else{if(opts.trigger[0]=="now"){if($(this).hasClass("bt-active")){this.btOff()}else{this.btOn(content)}}else{if(opts.trigger[0]=="none"){}else{if(opts.trigger.length>1&&opts.trigger[0]!=opts.trigger[1]){$(this).bind(opts.trigger[0],function(){this.btOn()}).bind(opts.trigger[1],function(){this.btOff()})}else{$(this).bind(opts.trigger[0],function(){if($(this).hasClass("bt-active")){this.btOff()}else{this.btOn()}})}}}}}this.btOn=function(htmlContent){if(typeof $(this).data("bt-box")=="object"){this.btOff()}if(htmlContent!=undefined){content=htmlContent}opts.preBuild.apply(this);$(jQuery.bt.vars.closeWhenOpenStack).btOff();$(this).addClass("bt-active "+opts.activeClass);if(contentSelect&&opts.ajaxPath==null){if(opts.killTitle){$(this).attr("title",$(this).attr("bt-xTitle"))}content=$.isFunction(opts.contentSelector)?opts.contentSelector.apply(this):eval(opts.contentSelector);if(opts.killTitle){$(this).attr("title","")}}if(opts.ajaxPath!=null&&content==false){if(typeof opts.ajaxPath=="object"){var url=eval(opts.ajaxPath[0]);url+=opts.ajaxPath[1]?" "+opts.ajaxPath[1]:""}else{var url=opts.ajaxPath}var off=url.indexOf(" ");if(off>=0){var selector=url.slice(off,url.length);url=url.slice(0,off)}var cacheData=opts.ajaxCache?$(document.body).data("btCache-"+url.replace(/\./g,"")):null;if(typeof cacheData=="string"){content=selector?$("<div/>").append(cacheData.replace(/<script(.|\s)*?\/script>/g,"")).find(selector):cacheData}else{var target=this;var ajaxOpts=jQuery.extend(false,{type:opts.ajaxType,data:opts.ajaxData,cache:opts.ajaxCache,url:url,complete:function(XMLHttpRequest,textStatus){if(textStatus=="success"||textStatus=="notmodified"){if(opts.ajaxCache){$(document.body).data("btCache-"+url.replace(/\./g,""),XMLHttpRequest.responseText)}ajaxTimeout=false;content=selector?$("<div/>").append(XMLHttpRequest.responseText.replace(/<script(.|\s)*?\/script>/g,"")).find(selector):XMLHttpRequest.responseText}else{if(textStatus=="timeout"){ajaxTimeout=true}content=opts.ajaxError.replace(/%error/g,XMLHttpRequest.statusText)}if($(target).hasClass("bt-active")){target.btOn()}}},opts.ajaxOpts);jQuery.ajax(ajaxOpts);content=opts.ajaxLoading}}var shadowMarginX=0;var shadowMarginY=0;var shadowShiftX=0;var shadowShiftY=0;if(opts.shadow&&!shadowSupport()){opts.shadow=false;jQuery.extend(opts,opts.noShadowOpts)}if(opts.shadow){if(opts.shadowBlur>Math.abs(opts.shadowOffsetX)){shadowMarginX=opts.shadowBlur*2}else{shadowMarginX=opts.shadowBlur+Math.abs(opts.shadowOffsetX)}shadowShiftX=(opts.shadowBlur-opts.shadowOffsetX)>0?opts.shadowBlur-opts.shadowOffsetX:0;if(opts.shadowBlur>Math.abs(opts.shadowOffsetY)){shadowMarginY=opts.shadowBlur*2}else{shadowMarginY=opts.shadowBlur+Math.abs(opts.shadowOffsetY)}shadowShiftY=(opts.shadowBlur-opts.shadowOffsetY)>0?opts.shadowBlur-opts.shadowOffsetY:0}if(opts.offsetParent){var offsetParent=$(opts.offsetParent);var offsetParentPos=offsetParent.offset();var pos=$(this).offset();var top=numb(pos.top)-numb(offsetParentPos.top)+numb($(this).css("margin-top"))-shadowShiftY;var left=numb(pos.left)-numb(offsetParentPos.left)+numb($(this).css("margin-left"))-shadowShiftX}else{var offsetParent=($(this).css("position")=="absolute")?$(this).parents().eq(0).offsetParent():$(this).offsetParent();var pos=$(this).btPosition();var top=numb(pos.top)+numb($(this).css("margin-top"))-shadowShiftY;var left=numb(pos.left)+numb($(this).css("margin-left"))-shadowShiftX}var width=$(this).btOuterWidth();var height=$(this).outerHeight();if(typeof content=="object"){var original=content;var clone=$(original).clone(true).show();var origClones=$(original).data("bt-clones")||[];origClones.push(clone);$(original).data("bt-clones",origClones);$(clone).data("bt-orig",original);$(this).data("bt-content-orig",{original:original,clone:clone});content=clone}if(typeof content=="null"||content==""){return }var $text=$('<div class="bt-content"></div>').append(content).css({padding:opts.padding,position:"absolute",width:(opts.shrinkToFit?"auto":opts.width),zIndex:opts.textzIndex,left:shadowShiftX,top:shadowShiftY}).css(opts.cssStyles);var $box=$('<div id = "bt-wrapper" class="bt-wrapper"></div>').append($text).addClass(opts.cssClass).css({position:"absolute",width:opts.width,zIndex:opts.wrapperzIndex,visibility:"hidden"}).appendTo(offsetParent);if(jQuery.fn.bgiframe){$text.bgiframe();$box.bgiframe()}$(this).data("bt-box",$box);$(this).append($box);var scrollTop=numb($(document).scrollTop());var scrollLeft=numb($(document).scrollLeft());var docWidth=numb($(window).width());var docHeight=numb($(window).height());var winRight=scrollLeft+docWidth;var winBottom=scrollTop+docHeight;var space=new Object();var thisOffset=$(this).offset();space.top=thisOffset.top-scrollTop;space.bottom=docHeight-((thisOffset+height)-scrollTop);space.left=thisOffset.left-scrollLeft;space.right=docWidth-((thisOffset.left+width)-scrollLeft);var textOutHeight=numb($text.outerHeight());var textOutWidth=numb($text.btOuterWidth());if(opts.positions.constructor==String){opts.positions=opts.positions.replace(/ /,"").split(",")}if(opts.positions[0]=="most"){var position="top";for(var pig in space){position=space[pig]>space[position]?pig:position}}else{for(var x in opts.positions){var position=opts.positions[x];if((position=="left"||position=="right")&&space[position]>textOutWidth+opts.spikeLength){break}else{if((position=="top"||position=="bottom")&&space[position]>textOutHeight+opts.spikeLength){break}}}}var horiz=left+((width-textOutWidth)*0.5);var vert=top+((height-textOutHeight)*0.5);var points=new Array();var textTop,textLeft,textRight,textBottom,textTopSpace,textBottomSpace,textLeftSpace,textRightSpace,crossPoint,textCenter,spikePoint;switch(position){case"top":$text.css("margin-bottom",opts.spikeLength+"px");$box.css({top:(top-$text.outerHeight(true))+opts.overlap,left:horiz});textRightSpace=(winRight-opts.windowMargin)-($text.offset().left+$text.btOuterWidth(true));var xShift=shadowShiftX;if(textRightSpace<0){$box.css("left",(numb($box.css("left"))+textRightSpace)+"px");xShift-=textRightSpace}textLeftSpace=($text.offset().left+numb($text.css("margin-left")))-(scrollLeft+opts.windowMargin);if(textLeftSpace<0){$box.css("left",(numb($box.css("left"))-textLeftSpace)+"px");xShift+=textLeftSpace}textTop=$text.btPosition().top+numb($text.css("margin-top"));textLeft=$text.btPosition().left+numb($text.css("margin-left"));textRight=textLeft+$text.btOuterWidth();textBottom=textTop+$text.outerHeight();textCenter={x:textLeft+($text.btOuterWidth()*opts.centerPointX),y:textTop+($text.outerHeight()*opts.centerPointY)};points[points.length]=spikePoint={y:textBottom+opts.spikeLength,x:((textRight-textLeft)*0.5)+xShift,type:"spike"};crossPoint=findIntersectX(spikePoint.x,spikePoint.y,textCenter.x,textCenter.y,textBottom);crossPoint.x=crossPoint.x<textLeft+opts.spikeGirth/2+opts.cornerRadius?textLeft+opts.spikeGirth/2+opts.cornerRadius:crossPoint.x;crossPoint.x=crossPoint.x>(textRight-opts.spikeGirth/2)-opts.cornerRadius?(textRight-opts.spikeGirth/2)-opts.CornerRadius:crossPoint.x;points[points.length]={x:crossPoint.x-(opts.spikeGirth/2),y:textBottom,type:"join"};points[points.length]={x:textLeft,y:textBottom,type:"corner"};points[points.length]={x:textLeft,y:textTop,type:"corner"};points[points.length]={x:textRight,y:textTop,type:"corner"};points[points.length]={x:textRight,y:textBottom,type:"corner"};points[points.length]={x:crossPoint.x+(opts.spikeGirth/2),y:textBottom,type:"join"};points[points.length]=spikePoint;break;case"left":$text.css("margin-right",opts.spikeLength+"px");$box.css({top:vert+"px",left:((left-$text.btOuterWidth(true))+opts.overlap)+"px"});textBottomSpace=(winBottom-opts.windowMargin)-($text.offset().top+$text.outerHeight(true));var yShift=shadowShiftY;if(textBottomSpace<0){$box.css("top",(numb($box.css("top"))+textBottomSpace)+"px");yShift-=textBottomSpace}textTopSpace=($text.offset().top+numb($text.css("margin-top")))-(scrollTop+opts.windowMargin);if(textTopSpace<0){$box.css("top",(numb($box.css("top"))-textTopSpace)+"px");yShift+=textTopSpace}textTop=$text.btPosition().top+numb($text.css("margin-top"));textLeft=$text.btPosition().left+numb($text.css("margin-left"));textRight=textLeft+$text.btOuterWidth();textBottom=textTop+$text.outerHeight();textCenter={x:textLeft+($text.btOuterWidth()*opts.centerPointX),y:textTop+($text.outerHeight()*opts.centerPointY)};points[points.length]=spikePoint={x:textRight+opts.spikeLength,y:((textBottom-textTop)*0.5)+yShift,type:"spike"};crossPoint=findIntersectY(spikePoint.x,spikePoint.y,textCenter.x,textCenter.y,textRight);crossPoint.y=crossPoint.y<textTop+opts.spikeGirth/2+opts.cornerRadius?textTop+opts.spikeGirth/2+opts.cornerRadius:crossPoint.y;crossPoint.y=crossPoint.y>(textBottom-opts.spikeGirth/2)-opts.cornerRadius?(textBottom-opts.spikeGirth/2)-opts.cornerRadius:crossPoint.y;points[points.length]={x:textRight,y:crossPoint.y+opts.spikeGirth/2,type:"join"};points[points.length]={x:textRight,y:textBottom,type:"corner"};points[points.length]={x:textLeft,y:textBottom,type:"corner"};points[points.length]={x:textLeft,y:textTop,type:"corner"};points[points.length]={x:textRight,y:textTop,type:"corner"};points[points.length]={x:textRight,y:crossPoint.y-opts.spikeGirth/2,type:"join"};points[points.length]=spikePoint;break;case"bottom":$text.css("margin-top",opts.spikeLength+"px");$box.css({top:(top+height)-opts.overlap,left:horiz});textRightSpace=(winRight-opts.windowMargin)-($text.offset().left+$text.btOuterWidth(true));var xShift=shadowShiftX;if(textRightSpace<0){$box.css("left",(numb($box.css("left"))+textRightSpace)+"px");xShift-=textRightSpace}textLeftSpace=($text.offset().left+numb($text.css("margin-left")))-(scrollLeft+opts.windowMargin);if(textLeftSpace<0){$box.css("left",(numb($box.css("left"))-textLeftSpace)+"px");xShift+=textLeftSpace}textTop=$text.btPosition().top+numb($text.css("margin-top"));textLeft=$text.btPosition().left+numb($text.css("margin-left"));textRight=textLeft+$text.btOuterWidth();textBottom=textTop+$text.outerHeight();textCenter={x:textLeft+($text.btOuterWidth()*opts.centerPointX),y:textTop+($text.outerHeight()*opts.centerPointY)};points[points.length]=spikePoint={x:((textRight-textLeft)*0.5)+xShift,y:shadowShiftY,type:"spike"};crossPoint=findIntersectX(spikePoint.x,spikePoint.y,textCenter.x,textCenter.y,textTop);crossPoint.x=crossPoint.x<textLeft+opts.spikeGirth/2+opts.cornerRadius?textLeft+opts.spikeGirth/2+opts.cornerRadius:crossPoint.x;crossPoint.x=crossPoint.x>(textRight-opts.spikeGirth/2)-opts.cornerRadius?(textRight-opts.spikeGirth/2)-opts.cornerRadius:crossPoint.x;points[points.length]={x:crossPoint.x+opts.spikeGirth/2,y:textTop,type:"join"};points[points.length]={x:textRight,y:textTop,type:"corner"};points[points.length]={x:textRight,y:textBottom,type:"corner"};points[points.length]={x:textLeft,y:textBottom,type:"corner"};points[points.length]={x:textLeft,y:textTop,type:"corner"};points[points.length]={x:crossPoint.x-(opts.spikeGirth/2),y:textTop,type:"join"};points[points.length]=spikePoint;break;case"right":$text.css("margin-left",(opts.spikeLength+"px"));$box.css({top:vert+"px",left:((left+width)-opts.overlap)+"px"});textBottomSpace=(winBottom-opts.windowMargin)-($text.offset().top+$text.outerHeight(true));var yShift=shadowShiftY;if(textBottomSpace<0){$box.css("top",(numb($box.css("top"))+textBottomSpace)+"px");yShift-=textBottomSpace}textTopSpace=($text.offset().top+numb($text.css("margin-top")))-(scrollTop+opts.windowMargin);if(textTopSpace<0){$box.css("top",(numb($box.css("top"))-textTopSpace)+"px");yShift+=textTopSpace}textTop=$text.btPosition().top+numb($text.css("margin-top"));textLeft=$text.btPosition().left+numb($text.css("margin-left"));textRight=textLeft+$text.btOuterWidth();textBottom=textTop+$text.outerHeight();textCenter={x:textLeft+($text.btOuterWidth()*opts.centerPointX),y:textTop+($text.outerHeight()*opts.centerPointY)};points[points.length]=spikePoint={x:shadowShiftX,y:((textBottom-textTop)*0.5)+yShift,type:"spike"};crossPoint=findIntersectY(spikePoint.x,spikePoint.y,textCenter.x,textCenter.y,textLeft);crossPoint.y=crossPoint.y<textTop+opts.spikeGirth/2+opts.cornerRadius?textTop+opts.spikeGirth/2+opts.cornerRadius:crossPoint.y;crossPoint.y=crossPoint.y>(textBottom-opts.spikeGirth/2)-opts.cornerRadius?(textBottom-opts.spikeGirth/2)-opts.cornerRadius:crossPoint.y;points[points.length]={x:textLeft,y:crossPoint.y-opts.spikeGirth/2,type:"join"};points[points.length]={x:textLeft,y:textTop,type:"corner"};points[points.length]={x:textRight,y:textTop,type:"corner"};points[points.length]={x:textRight,y:textBottom,type:"corner"};points[points.length]={x:textLeft,y:textBottom,type:"corner"};points[points.length]={x:textLeft,y:crossPoint.y+opts.spikeGirth/2,type:"join"};points[points.length]=spikePoint;break}var canvas=document.createElement("canvas");$(canvas).attr("width",(numb($text.btOuterWidth(true))+opts.strokeWidth*2+shadowMarginX)).attr("height",(numb($text.outerHeight(true))+opts.strokeWidth*2+shadowMarginY)).appendTo($box).css({position:"absolute",left:"0",zIndex:opts.boxzIndex});if(typeof G_vmlCanvasManager!="undefined"){canvas=G_vmlCanvasManager.initElement(canvas)}if(opts.cornerRadius>0){var newPoints=new Array();var newPoint;for(var i=0;i<points.length;i++){if(points[i].type=="corner"){newPoint=betweenPoint(points[i],points[(i-1)%points.length],opts.cornerRadius);newPoint.type="arcStart";newPoints[newPoints.length]=newPoint;newPoints[newPoints.length]=points[i];newPoint=betweenPoint(points[i],points[(i+1)%points.length],opts.cornerRadius);newPoint.type="arcEnd";newPoints[newPoints.length]=newPoint}else{newPoints[newPoints.length]=points[i]}}points=newPoints}var ctx=canvas.getContext("2d");if(opts.shadow&&opts.shadowOverlap!==true){var shadowOverlap=numb(opts.shadowOverlap);switch(position){case"top":if(opts.shadowOffsetX+opts.shadowBlur-shadowOverlap>0){$box.css("top",(numb($box.css("top"))-(opts.shadowOffsetX+opts.shadowBlur-shadowOverlap)))}break;case"right":if(shadowShiftX-shadowOverlap>0){$box.css("left",(numb($box.css("left"))+shadowShiftX-shadowOverlap))}break;case"bottom":if(shadowShiftY-shadowOverlap>0){$box.css("top",(numb($box.css("top"))+shadowShiftY-shadowOverlap))}break;case"left":if(opts.shadowOffsetY+opts.shadowBlur-shadowOverlap>0){$box.css("left",(numb($box.css("left"))-(opts.shadowOffsetY+opts.shadowBlur-shadowOverlap)))}break}}drawIt.apply(ctx,[points],opts.strokeWidth);ctx.fillStyle=opts.fill;if(opts.shadow){ctx.shadowOffsetX=opts.shadowOffsetX;ctx.shadowOffsetY=opts.shadowOffsetY;ctx.shadowBlur=opts.shadowBlur;ctx.shadowColor=opts.shadowColor}ctx.closePath();ctx.fill();if(opts.strokeWidth>0){ctx.shadowColor="rgba(0, 0, 0, 0)";ctx.lineWidth=opts.strokeWidth;ctx.strokeStyle=opts.strokeStyle;ctx.beginPath();drawIt.apply(ctx,[points],opts.strokeWidth);ctx.closePath();ctx.stroke()}opts.preShow.apply(this,[$box[0]]);$box.css({display:"none",visibility:"visible"});opts.showTip.apply(this,[$box[0]]);if(opts.overlay){var overlay=$('<div class="bt-overlay"></div>').css({position:"absolute",backgroundColor:"blue",top:top,left:left,width:width,height:height,opacity:".2"}).appendTo(offsetParent);$(this).data("overlay",overlay)}if((opts.ajaxPath!=null&&opts.ajaxCache==false)||ajaxTimeout){content=false}if(opts.clickAnywhereToClose){jQuery.bt.vars.clickAnywhereStack.push(this);$(document).click(jQuery.bt.docClick)}if(opts.closeWhenOthersOpen){jQuery.bt.vars.closeWhenOpenStack.push(this)}opts.postShow.apply(this,[$box[0]])};this.btOff=function(){var box=$(this).data("bt-box");opts.preHide.apply(this,[box]);var i=this;i.btCleanup=function(){var box=$(i).data("bt-box");var contentOrig=$(i).data("bt-content-orig");var overlay=$(i).data("bt-overlay");if(typeof box=="object"){$(box).remove();$(i).removeData("bt-box")}if(typeof contentOrig=="object"){var clones=$(contentOrig.original).data("bt-clones");$(contentOrig).data("bt-clones",arrayRemove(clones,contentOrig.clone))}if(typeof overlay=="object"){$(overlay).remove();$(i).removeData("bt-overlay")}jQuery.bt.vars.clickAnywhereStack=arrayRemove(jQuery.bt.vars.clickAnywhereStack,i);jQuery.bt.vars.closeWhenOpenStack=arrayRemove(jQuery.bt.vars.closeWhenOpenStack,i);$(i).removeClass("bt-active "+opts.activeClass);opts.postHide.apply(i)};opts.hideTip.apply(this,[box,i.btCleanup])};var refresh=this.btRefresh=function(){this.btOff();this.btOn()}});function drawIt(points,strokeWidth){this.moveTo(points[0].x,points[0].y);for(i=1;i<points.length;i++){if(points[i-1].type=="arcStart"){this.quadraticCurveTo(round5(points[i].x,strokeWidth),round5(points[i].y,strokeWidth),round5(points[(i+1)%points.length].x,strokeWidth),round5(points[(i+1)%points.length].y,strokeWidth));i++}else{this.lineTo(round5(points[i].x,strokeWidth),round5(points[i].y,strokeWidth))}}}function round5(num,strokeWidth){var ret;strokeWidth=numb(strokeWidth);if(strokeWidth%2){ret=num}else{ret=Math.round(num-0.5)+0.5}return ret}function numb(num){return parseInt(num)||0}function arrayRemove(arr,elem){var x,newArr=new Array();for(x in arr){if(arr[x]!=elem){newArr.push(arr[x])}}return newArr}function canvasSupport(){var canvas_compatible=false;try{canvas_compatible=!!(document.createElement("canvas").getContext("2d"))}catch(e){canvas_compatible=!!(document.createElement("canvas").getContext)}return canvas_compatible}function shadowSupport(){try{var userAgent=navigator.userAgent.toLowerCase();if(/webkit/.test(userAgent)){return true}else{if(/gecko|mozilla/.test(userAgent)&&parseFloat(userAgent.match(/firefox\/(\d+(?:\.\d+)+)/)[1])>=3.1){return true}}}catch(err){}return false}function betweenPoint(point1,point2,dist){var y,x;if(point1.x==point2.x){y=point1.y<point2.y?point1.y+dist:point1.y-dist;return{x:point1.x,y:y}}else{if(point1.y==point2.y){x=point1.x<point2.x?point1.x+dist:point1.x-dist;return{x:x,y:point1.y}}}}function centerPoint(arcStart,corner,arcEnd){var x=corner.x==arcStart.x?arcEnd.x:arcStart.x;var y=corner.y==arcStart.y?arcEnd.y:arcStart.y;var startAngle,endAngle;if(arcStart.x<arcEnd.x){if(arcStart.y>arcEnd.y){startAngle=(Math.PI/180)*180;endAngle=(Math.PI/180)*90}else{startAngle=(Math.PI/180)*90;endAngle=0}}else{if(arcStart.y>arcEnd.y){startAngle=(Math.PI/180)*270;endAngle=(Math.PI/180)*180}else{startAngle=0;endAngle=(Math.PI/180)*270}}return{x:x,y:y,type:"center",startAngle:startAngle,endAngle:endAngle}}function findIntersect(r1x1,r1y1,r1x2,r1y2,r2x1,r2y1,r2x2,r2y2){if(r2x1==r2x2){return findIntersectY(r1x1,r1y1,r1x2,r1y2,r2x1)}if(r2y1==r2y2){return findIntersectX(r1x1,r1y1,r1x2,r1y2,r2y1)}var r1m=(r1y1-r1y2)/(r1x1-r1x2);var r1b=r1y1-(r1m*r1x1);var r2m=(r2y1-r2y2)/(r2x1-r2x2);var r2b=r2y1-(r2m*r2x1);var x=(r2b-r1b)/(r1m-r2m);var y=r1m*x+r1b;return{x:x,y:y}}function findIntersectY(r1x1,r1y1,r1x2,r1y2,x){if(r1y1==r1y2){return{x:x,y:r1y1}}var r1m=(r1y1-r1y2)/(r1x1-r1x2);var r1b=r1y1-(r1m*r1x1);var y=r1m*x+r1b;return{x:x,y:y}}function findIntersectX(r1x1,r1y1,r1x2,r1y2,y){if(r1x1==r1x2){return{x:r1x1,y:y}}var r1m=(r1y1-r1y2)/(r1x1-r1x2);var r1b=r1y1-(r1m*r1x1);var x=(y-r1b)/r1m;return{x:x,y:y}}};jQuery.fn.btPosition=function(){function num(elem,prop){return elem[0]&&parseInt(jQuery.curCSS(elem[0],prop,true),10)||0}var left=0,top=0,results;if(this[0]){var offsetParent=this.offsetParent(),offset=this.offset(),parentOffset=/^body|html$/i.test(offsetParent[0].tagName)?{top:0,left:0}:offsetParent.offset();offset.top-=num(this,"marginTop");offset.left-=num(this,"marginLeft");parentOffset.top+=num(offsetParent,"borderTopWidth");parentOffset.left+=num(offsetParent,"borderLeftWidth");results={top:offset.top-parentOffset.top,left:offset.left-parentOffset.left}}return results};jQuery.fn.btOuterWidth=function(margin){function num(elem,prop){return elem[0]&&parseInt(jQuery.curCSS(elem[0],prop,true),10)||0}return this["innerWidth"]()+num(this,"borderLeftWidth")+num(this,"borderRightWidth")+(margin?num(this,"marginLeft")+num(this,"marginRight"):0)};jQuery.fn.btOn=function(){return this.each(function(index){if(jQuery.isFunction(this.btOn)){this.btOn()}})};jQuery.fn.btOff=function(){return this.each(function(index){if(jQuery.isFunction(this.btOff)){this.btOff()}})};jQuery.bt.vars={clickAnywhereStack:[],closeWhenOpenStack:[]};jQuery.bt.docClick=function(e){if(!e){var e=window.event}if(!$(e.target).parents().andSelf().filter(".bt-wrapper, .bt-active").length&&jQuery.bt.vars.clickAnywhereStack.length){$(jQuery.bt.vars.clickAnywhereStack).btOff();$(document).unbind("click",jQuery.bt.docClick)}};jQuery.bt.defaults={trigger:"hover",clickAnywhereToClose:true,closeWhenOthersOpen:false,shrinkToFit:false,width:"200px",padding:"10px",spikeGirth:10,spikeLength:15,overlap:0,overlay:false,killTitle:true,textzIndex:9999,boxzIndex:9998,wrapperzIndex:9997,offsetParent:null,positions:["most"],fill:"rgb(255, 255, 102)",windowMargin:10,strokeWidth:1,strokeStyle:"#000",cornerRadius:5,centerPointX:0.5,centerPointY:0.5,shadow:false,shadowOffsetX:2,shadowOffsetY:2,shadowBlur:3,shadowColor:"#000",shadowOverlap:false,noShadowOpts:{strokeStyle:"#999"},cssClass:"",cssStyles:{},activeClass:"bt-active",contentSelector:"$(this).attr('title')",ajaxPath:null,ajaxError:"<strong>ERROR:</strong> <em>%error</em>",ajaxLoading:"<blink>Loading...</blink>",ajaxData:{},ajaxType:"GET",ajaxCache:true,ajaxOpts:{},preBuild:function(){},preShow:function(box){},showTip:function(box){$(box).show()},postShow:function(box){},preHide:function(box){},hideTip:function(box,callback){$(box).hide();callback()},postHide:function(){},hoverIntentOpts:{interval:300,timeout:500}};jQuery.bt.options={}})(jQuery);
/* jQuery UI - v1.9.1 - 2012-11-20
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.position.js, jquery.ui.draggable.js, jquery.ui.droppable.js, jquery.ui.resizable.js, jquery.ui.button.js, jquery.ui.dialog.js
* Copyright (c) 2012 jQuery Foundation and other contributors Licensed MIT */
(function(E,B){function A(I,L){var J,H,K,G=I.nodeName.toLowerCase();return"area"===G?(J=I.parentNode,H=J.name,!I.href||!H||J.nodeName.toLowerCase()!=="map"?!1:(K=E("img[usemap=#"+H+"]")[0],!!K&&C(K))):(/input|select|textarea|button|object/.test(G)?!I.disabled:"a"===G?I.href||L:L)&&C(I)}function C(G){return E.expr.filters.visible(G)&&!E(G).parents().andSelf().filter(function(){return E.css(this,"visibility")==="hidden"}).length}var F=0,D=/^ui-id-\d+$/;E.ui=E.ui||{};if(E.ui.version){return }E.extend(E.ui,{version:"1.9.1",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),E.fn.extend({_focus:E.fn.focus,focus:function(G,H){return typeof G=="number"?this.each(function(){var I=this;setTimeout(function(){E(I).focus(),H&&H.call(I)},G)}):this._focus.apply(this,arguments)},scrollParent:function(){var G;return E.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?G=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(E.css(this,"position"))&&/(auto|scroll)/.test(E.css(this,"overflow")+E.css(this,"overflow-y")+E.css(this,"overflow-x"))}).eq(0):G=this.parents().filter(function(){return/(auto|scroll)/.test(E.css(this,"overflow")+E.css(this,"overflow-y")+E.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!G.length?E(document):G},zIndex:function(J){if(J!==B){return this.css("zIndex",J)}if(this.length){var I=E(this[0]),G,H;while(I.length&&I[0]!==document){G=I.css("position");if(G==="absolute"||G==="relative"||G==="fixed"){H=parseInt(I.css("zIndex"),10);if(!isNaN(H)&&H!==0){return H}}I=I.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++F)})},removeUniqueId:function(){return this.each(function(){D.test(this.id)&&E(this).removeAttr("id")})}}),E("<a>").outerWidth(1).jquery||E.each(["Width","Height"],function(L,J){function G(M,P,O,N){return E.each(H,function(){P-=parseFloat(E.css(M,"padding"+this))||0,O&&(P-=parseFloat(E.css(M,"border"+this+"Width"))||0),N&&(P-=parseFloat(E.css(M,"margin"+this))||0)}),P}var H=J==="Width"?["Left","Right"]:["Top","Bottom"],I=J.toLowerCase(),K={innerWidth:E.fn.innerWidth,innerHeight:E.fn.innerHeight,outerWidth:E.fn.outerWidth,outerHeight:E.fn.outerHeight};E.fn["inner"+J]=function(M){return M===B?K["inner"+J].call(this):this.each(function(){E(this).css(I,G(this,M)+"px")})},E.fn["outer"+J]=function(M,N){return typeof M!="number"?K["outer"+J].call(this,M):this.each(function(){E(this).css(I,G(this,M,!0,N)+"px")})}}),E.extend(E.expr[":"],{data:E.expr.createPseudo?E.expr.createPseudo(function(G){return function(H){return !!E.data(H,G)}}):function(G,I,H){return !!E.data(G,H[3])},focusable:function(G){return A(G,!isNaN(E.attr(G,"tabindex")))},tabbable:function(G){var I=E.attr(G,"tabindex"),H=isNaN(I);return(H||I>=0)&&A(G,!H)}}),E(function(){var G=document.body,H=G.appendChild(H=document.createElement("div"));H.offsetHeight,E.extend(H.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),E.support.minHeight=H.offsetHeight===100,E.support.selectstart="onselectstart" in H,G.removeChild(H).style.display="none"}),function(){var G=/msie ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||[];E.ui.ie=G.length?!0:!1,E.ui.ie6=parseFloat(G[1],10)===6}(),E.fn.extend({disableSelection:function(){return this.bind((E.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(G){G.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),E.extend(E.ui,{plugin:{add:function(H,K,J){var G,I=E.ui[H].prototype;for(G in J){I.plugins[G]=I.plugins[G]||[],I.plugins[G].push([K,J[G]])}},call:function(J,H,K){var I,G=J.plugins[H];if(!G||!J.element[0].parentNode||J.element[0].parentNode.nodeType===11){return }for(I=0;I<G.length;I++){J.options[G[I][0]]&&G[I][1].apply(J.element,K)}}},contains:E.contains,hasScroll:function(H,J){if(E(H).css("overflow")==="hidden"){return !1}var I=J&&J==="left"?"scrollLeft":"scrollTop",G=!1;return H[I]>0?!0:(H[I]=1,G=H[I]>0,H[I]=0,G)},isOverAxis:function(H,G,I){return H>G&&H<G+I},isOver:function(H,L,J,G,I,K){return E.ui.isOverAxis(H,J,I)&&E.ui.isOverAxis(L,G,K)}})})(jQuery);(function(D,B){var E=0,C=Array.prototype.slice,A=D.cleanData;D.cleanData=function(F){for(var I=0,H;(H=F[I])!=null;I++){try{D(H).triggerHandler("remove")}catch(G){}}A(F)},D.widget=function(I,M,K){var H,J,L,G,F=I.split(".")[0];I=I.split(".")[1],H=F+"-"+I,K||(K=M,M=D.Widget),D.expr[":"][H.toLowerCase()]=function(N){return !!D.data(N,H)},D[F]=D[F]||{},J=D[F][I],L=D[F][I]=function(O,N){if(!this._createWidget){return new L(O,N)}arguments.length&&this._createWidget(O,N)},D.extend(L,J,{version:K.version,_proto:D.extend({},K),_childConstructors:[]}),G=new M,G.options=D.widget.extend({},G.options),D.each(K,function(O,N){D.isFunction(N)&&(K[O]=function(){var Q=function(){return M.prototype[O].apply(this,arguments)},P=function(R){return M.prototype[O].apply(this,R)};return function(){var R=this._super,T=this._superApply,S;return this._super=Q,this._superApply=P,S=N.apply(this,arguments),this._super=R,this._superApply=T,S}}())}),L.prototype=D.widget.extend(G,{widgetEventPrefix:G.widgetEventPrefix||I},K,{constructor:L,namespace:F,widgetName:I,widgetBaseClass:H,widgetFullName:H}),J?(D.each(J._childConstructors,function(N,P){var O=P.prototype;D.widget(O.namespace+"."+O.widgetName,L,P._proto)}),delete J._childConstructors):M._childConstructors.push(L),D.widget.bridge(I,L)},D.widget.extend=function(K){var H=C.call(arguments,1),I=0,J=H.length,G,F;for(;I<J;I++){for(G in H[I]){F=H[I][G],H[I].hasOwnProperty(G)&&F!==B&&(D.isPlainObject(F)?K[G]=D.isPlainObject(K[G])?D.widget.extend({},K[G],F):D.widget.extend({},F):K[G]=F)}}return K},D.widget.bridge=function(H,F){var G=F.prototype.widgetFullName;D.fn[H]=function(L){var J=typeof L=="string",I=C.call(arguments,1),K=this;return L=!J&&I.length?D.widget.extend.apply(null,[L].concat(I)):L,J?this.each(function(){var N,M=D.data(this,G);if(!M){return D.error("cannot call methods on "+H+" prior to initialization; attempted to call method '"+L+"'")}if(!D.isFunction(M[L])||L.charAt(0)==="_"){return D.error("no such method '"+L+"' for "+H+" widget instance")}N=M[L].apply(M,I);if(N!==M&&N!==B){return K=N&&N.jquery?K.pushStack(N.get()):N,!1}}):this.each(function(){var M=D.data(this,G);M?M.option(L||{})._init():new F(L,this)}),K}},D.Widget=function(){},D.Widget._childConstructors=[],D.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(F,G){G=D(G||this.defaultElement||this)[0],this.element=D(G),this.uuid=E++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=D.widget.extend({},this.options,this._getCreateOptions(),F),this.bindings=D(),this.hoverable=D(),this.focusable=D(),G!==this&&(D.data(G,this.widgetName,this),D.data(G,this.widgetFullName,this),this._on(this.element,{remove:function(H){H.target===G&&this.destroy()}}),this.document=D(G.style?G.ownerDocument:G.document||G),this.window=D(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:D.noop,_getCreateEventData:D.noop,_create:D.noop,_init:D.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(D.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:D.noop,widget:function(){return this.element},option:function(K,I){var G=K,H,J,F;if(arguments.length===0){return D.widget.extend({},this.options)}if(typeof K=="string"){G={},H=K.split("."),K=H.shift();if(H.length){J=G[K]=D.widget.extend({},this.options[K]);for(F=0;F<H.length-1;F++){J[H[F]]=J[H[F]]||{},J=J[H[F]]}K=H.pop();if(I===B){return J[K]===B?null:J[K]}J[K]=I}else{if(I===B){return this.options[K]===B?null:this.options[K]}G[K]=I}}return this._setOptions(G),this},_setOptions:function(G){var F;for(F in G){this._setOption(F,G[F])}return this},_setOption:function(G,F){return this.options[G]=F,G==="disabled"&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!F).attr("aria-disabled",F),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(G,I){var H,F=this;I?(G=H=D(G),this.bindings=this.bindings.add(G)):(I=G,G=this.element,H=this.widget()),D.each(I,function(O,L){function N(){if(F.options.disabled===!0||D(this).hasClass("ui-state-disabled")){return }return(typeof L=="string"?F[L]:L).apply(F,arguments)}typeof L!="string"&&(N.guid=L.guid=L.guid||N.guid||D.guid++);var K=O.match(/^(\w+)\s*(.*)$/),J=K[1]+F.eventNamespace,M=K[2];M?H.delegate(M,J,N):G.bind(J,N)})},_off:function(G,F){F=(F||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,G.unbind(F).undelegate(F)},_delay:function(H,F){function I(){return(typeof H=="string"?G[H]:H).apply(G,arguments)}var G=this;return setTimeout(I,F||0)},_hoverable:function(F){this.hoverable=this.hoverable.add(F),this._on(F,{mouseenter:function(G){D(G.currentTarget).addClass("ui-state-hover")},mouseleave:function(G){D(G.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(F){this.focusable=this.focusable.add(F),this._on(F,{focusin:function(G){D(G.currentTarget).addClass("ui-state-focus")},focusout:function(G){D(G.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(G,K,I){var F,H,J=this.options[G];I=I||{},K=D.Event(K),K.type=(G===this.widgetEventPrefix?G:this.widgetEventPrefix+G).toLowerCase(),K.target=this.element[0],H=K.originalEvent;if(H){for(F in H){F in K||(K[F]=H[F])}}return this.element.trigger(K,I),!(D.isFunction(J)&&J.apply(this.element[0],[K].concat(I))===!1||K.isDefaultPrevented())}},D.each({show:"fadeIn",hide:"fadeOut"},function(F,G){D.Widget.prototype["_"+F]=function(K,I,J){typeof I=="string"&&(I={effect:I});var L,H=I?I===!0||typeof I=="number"?G:I.effect||G:F;I=I||{},typeof I=="number"&&(I={duration:I}),L=!D.isEmptyObject(I),I.complete=J,I.delay&&K.delay(I.delay),L&&D.effects&&(D.effects.effect[H]||D.uiBackCompat!==!1&&D.effects[H])?K[F](I):H!==F&&K[H]?K[H](I.duration,I.easing,J):K.queue(function(M){D(this)[F](),J&&J.call(K[0]),M()})}}),D.uiBackCompat!==!1&&(D.Widget.prototype._getCreateOptions=function(){return D.metadata&&D.metadata.get(this.element[0])[this.widgetName]})})(jQuery);(function(B,A){var C=!1;B(document).mouseup(function(D){C=!1}),B.widget("ui.mouse",{version:"1.9.1",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var D=this;this.element.bind("mousedown."+this.widgetName,function(E){return D._mouseDown(E)}).bind("click."+this.widgetName,function(E){if(!0===B.data(E.target,D.widgetName+".preventClickEvent")){return B.removeData(E.target,D.widgetName+".preventClickEvent"),E.stopImmediatePropagation(),!1}}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&B(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(E){if(C){return }this._mouseStarted&&this._mouseUp(E),this._mouseDownEvent=E;var G=this,D=E.which===1,F=typeof this.options.cancel=="string"&&E.target.nodeName?B(E.target).closest(this.options.cancel).length:!1;if(!D||F||!this._mouseCapture(E)){return !0}this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){G.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(E)&&this._mouseDelayMet(E)){this._mouseStarted=this._mouseStart(E)!==!1;if(!this._mouseStarted){return E.preventDefault(),!0}}return !0===B.data(E.target,this.widgetName+".preventClickEvent")&&B.removeData(E.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(H){return G._mouseMove(H)},this._mouseUpDelegate=function(H){return G._mouseUp(H)},B(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),E.preventDefault(),C=!0,!0},_mouseMove:function(D){return !B.ui.ie||document.documentMode>=9||!!D.button?this._mouseStarted?(this._mouseDrag(D),D.preventDefault()):(this._mouseDistanceMet(D)&&this._mouseDelayMet(D)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,D)!==!1,this._mouseStarted?this._mouseDrag(D):this._mouseUp(D)),!this._mouseStarted):this._mouseUp(D)},_mouseUp:function(D){return B(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,D.target===this._mouseDownEvent.target&&B.data(D.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(D)),!1},_mouseDistanceMet:function(D){return Math.max(Math.abs(this._mouseDownEvent.pageX-D.pageX),Math.abs(this._mouseDownEvent.pageY-D.pageY))>=this.options.distance},_mouseDelayMet:function(D){return this.mouseDelayMet},_mouseStart:function(D){},_mouseDrag:function(D){},_mouseStop:function(D){},_mouseCapture:function(D){return !0}})})(jQuery);(function(I,M){function G(P,O,Q){return[parseInt(P[0],10)*(E.test(P[0])?O/100:1),parseInt(P[1],10)*(E.test(P[1])?Q/100:1)]}function B(O,P){return parseInt(I.css(O,P),10)||0}I.ui=I.ui||{};var D,A=Math.max,F=Math.abs,N=Math.round,C=/left|center|right/,L=/top|center|bottom/,K=/[\+\-]\d+%?/,H=/^\w+/,E=/%$/,J=I.fn.position;I.position={scrollbarWidth:function(){if(D!==M){return D}var Q,O,P=I("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),R=P.children()[0];return I("body").append(P),Q=R.offsetWidth,P.css("overflow","scroll"),O=R.offsetWidth,Q===O&&(O=P[0].clientWidth),P.remove(),D=Q-O},getScrollInfo:function(P){var S=P.isWindow?"":P.element.css("overflow-x"),R=P.isWindow?"":P.element.css("overflow-y"),O=S==="scroll"||S==="auto"&&P.width<P.element[0].scrollWidth,Q=R==="scroll"||R==="auto"&&P.height<P.element[0].scrollHeight;return{width:O?I.position.scrollbarWidth():0,height:Q?I.position.scrollbarWidth():0}},getWithinInfo:function(O){var Q=I(O||window),P=I.isWindow(Q[0]);return{element:Q,isWindow:P,offset:Q.offset()||{left:0,top:0},scrollLeft:Q.scrollLeft(),scrollTop:Q.scrollTop(),width:P?Q.width():Q.outerWidth(),height:P?Q.height():Q.outerHeight()}}},I.fn.position=function(Z){if(!Z||!Z.of){return J.apply(this,arguments)}Z=I.extend({},Z);var O,Q,U,Y,P,T=I(Z.of),W=I.position.getWithinInfo(Z.within),V=I.position.getScrollInfo(W),X=T[0],a=(Z.collision||"flip").split(" "),R={};return X.nodeType===9?(Q=T.width(),U=T.height(),Y={top:0,left:0}):I.isWindow(X)?(Q=T.width(),U=T.height(),Y={top:T.scrollTop(),left:T.scrollLeft()}):X.preventDefault?(Z.at="left top",Q=U=0,Y={top:X.pageY,left:X.pageX}):(Q=T.outerWidth(),U=T.outerHeight(),Y=T.offset()),P=I.extend({},Y),I.each(["my","at"],function(){var b=(Z[this]||"").split(" "),c,S;b.length===1&&(b=C.test(b[0])?b.concat(["center"]):L.test(b[0])?["center"].concat(b):["center","center"]),b[0]=C.test(b[0])?b[0]:"center",b[1]=L.test(b[1])?b[1]:"center",c=K.exec(b[0]),S=K.exec(b[1]),R[this]=[c?c[0]:0,S?S[0]:0],Z[this]=[H.exec(b[0])[0],H.exec(b[1])[0]]}),a.length===1&&(a[1]=a[0]),Z.at[0]==="right"?P.left+=Q:Z.at[0]==="center"&&(P.left+=Q/2),Z.at[1]==="bottom"?P.top+=U:Z.at[1]==="center"&&(P.top+=U/2),O=G(R.at,Q,U),P.left+=O[0],P.top+=O[1],this.each(function(){var b,p,l=I(this),g=l.outerWidth(),j=l.outerHeight(),n=B(this,"marginLeft"),m=B(this,"marginTop"),e=g+n+B(this,"marginRight")+V.width,h=j+m+B(this,"marginBottom")+V.height,S=I.extend({},P),d=G(R.my,l.outerWidth(),l.outerHeight());Z.my[0]==="right"?S.left-=g:Z.my[0]==="center"&&(S.left-=g/2),Z.my[1]==="bottom"?S.top-=j:Z.my[1]==="center"&&(S.top-=j/2),S.left+=d[0],S.top+=d[1],I.support.offsetFractions||(S.left=N(S.left),S.top=N(S.top)),b={marginLeft:n,marginTop:m},I.each(["left","top"],function(f,c){I.ui.position[a[f]]&&I.ui.position[a[f]][c](S,{targetWidth:Q,targetHeight:U,elemWidth:g,elemHeight:j,collisionPosition:b,collisionWidth:e,collisionHeight:h,offset:[O[0]+d[0],O[1]+d[1]],my:Z.my,at:Z.at,within:W,elem:l})}),I.fn.bgiframe&&l.bgiframe(),Z.using&&(p=function(q){var t=Y.left-S.left,k=t+Q-g,r=Y.top-S.top,c=r+U-j,f={target:{element:T,left:Y.left,top:Y.top,width:Q,height:U},element:{element:l,left:S.left,top:S.top,width:g,height:j},horizontal:k<0?"left":t>0?"right":"center",vertical:c<0?"top":r>0?"bottom":"middle"};Q<g&&F(t+k)<Q&&(f.horizontal="center"),U<j&&F(r+c)<U&&(f.vertical="middle"),A(F(t),F(k))>A(F(r),F(c))?f.important="horizontal":f.important="vertical",Z.using.call(this,q,f)}),l.offset(I.extend(S,{using:p}))})},I.ui.position={fit:{left:function(S,V){var P=V.within,Q=P.isWindow?P.scrollLeft:P.offset.left,W=P.width,O=S.left-V.collisionPosition.marginLeft,U=Q-O,T=O+V.collisionWidth-W-Q,R;V.collisionWidth>W?U>0&&T<=0?(R=S.left+U+V.collisionWidth-W-Q,S.left+=U-R):T>0&&U<=0?S.left=Q:U>T?S.left=Q+W-V.collisionWidth:S.left=Q:U>0?S.left+=U:T>0?S.left-=T:S.left=A(S.left-O,S.left)},top:function(S,V){var P=V.within,Q=P.isWindow?P.scrollTop:P.offset.top,W=V.within.height,O=S.top-V.collisionPosition.marginTop,U=Q-O,T=O+V.collisionHeight-W-Q,R;V.collisionHeight>W?U>0&&T<=0?(R=S.top+U+V.collisionHeight-W-Q,S.top+=U-R):T>0&&U<=0?S.top=Q:U>T?S.top=Q+W-V.collisionHeight:S.top=Q:U>0?S.top+=U:T>0?S.top-=T:S.top=A(S.top-O,S.top)}},flip:{left:function(V,b){var R=b.within,O=R.offset.left+R.scrollLeft,g=R.width,Q=R.isWindow?R.scrollLeft:R.offset.left,Z=V.left-b.collisionPosition.marginLeft,Y=Z-Q,U=Z+b.collisionWidth-g-Q,S=b.my[0]==="left"?-b.elemWidth:b.my[0]==="right"?b.elemWidth:0,X=b.at[0]==="left"?b.targetWidth:b.at[0]==="right"?-b.targetWidth:0,T=-2*b.offset[0],P,W;if(Y<0){P=V.left+S+X+T+b.collisionWidth-g-O;if(P<0||P<F(Y)){V.left+=S+X+T}}else{if(U>0){W=V.left-b.collisionPosition.marginLeft+S+X+T-Q;if(W>0||F(W)<U){V.left+=S+X+T}}}},top:function(V,g){var R=g.within,O=R.offset.top+R.scrollTop,j=R.height,Q=R.isWindow?R.scrollTop:R.offset.top,b=V.top-g.collisionPosition.marginTop,Y=b-Q,U=b+g.collisionHeight-j-Q,S=g.my[1]==="top",X=S?-g.elemHeight:g.my[1]==="bottom"?g.elemHeight:0,T=g.at[1]==="top"?g.targetHeight:g.at[1]==="bottom"?-g.targetHeight:0,P=-2*g.offset[1],W,Z;Y<0?(Z=V.top+X+T+P+g.collisionHeight-j-O,V.top+X+T+P>Y&&(Z<0||Z<F(Y))&&(V.top+=X+T+P)):U>0&&(W=V.top-g.collisionPosition.marginTop+X+T+P-Q,V.top+X+T+P>U&&(W>0||F(W)<U)&&(V.top+=X+T+P))}},flipfit:{left:function(){I.ui.position.flip.left.apply(this,arguments),I.ui.position.fit.left.apply(this,arguments)},top:function(){I.ui.position.flip.top.apply(this,arguments),I.ui.position.fit.top.apply(this,arguments)}}},function(){var Q,U,S,P,R,T=document.getElementsByTagName("body")[0],O=document.createElement("div");Q=document.createElement(T?"div":"body"),S={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},T&&I.extend(S,{position:"absolute",left:"-1000px",top:"-1000px"});for(R in S){Q.style[R]=S[R]}Q.appendChild(O),U=T||document.documentElement,U.insertBefore(Q,U.firstChild),O.style.cssText="position: absolute; left: 10.7432222px;",P=I(O).offset().left,I.support.offsetFractions=P>10&&P<11,Q.innerHTML="",U.removeChild(Q)}(),I.uiBackCompat!==!1&&function(O){var P=O.fn.position;O.fn.position=function(S){if(!S||!S.offset){return P.call(this,S)}var Q=S.offset.split(" "),R=S.at.split(" ");return Q.length===1&&(Q[1]=Q[0]),/^\d/.test(Q[0])&&(Q[0]="+"+Q[0]),/^\d/.test(Q[1])&&(Q[1]="+"+Q[1]),R.length===1&&(/left|center|right/.test(R[0])?R[1]="center":(R[1]=R[0],R[0]="center")),P.call(this,O.extend(S,{at:R[0]+Q[0]+" "+R[1]+Q[1],offset:M}))}}(jQuery)})(jQuery);(function(B,A){B.widget("ui.draggable",B.ui.mouse,{version:"1.9.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){this.options.helper=="original"&&!/^(?:r|a|f)/.test(this.element.css("position"))&&(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(C){var D=this.options;return this.helper||D.disabled||B(C.target).is(".ui-resizable-handle")?!1:(this.handle=this._getHandle(C),this.handle?(B(D.iframeFix===!0?"iframe":D.iframeFix).each(function(){B('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css(B(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(C){var D=this.options;return this.helper=this._createHelper(C),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),B.ui.ddmanager&&(B.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},B.extend(this.offset,{click:{left:C.pageX-this.offset.left,top:C.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(C),this.originalPageX=C.pageX,this.originalPageY=C.pageY,D.cursorAt&&this._adjustOffsetFromHelper(D.cursorAt),D.containment&&this._setContainment(),this._trigger("start",C)===!1?(this._clear(),!1):(this._cacheHelperProportions(),B.ui.ddmanager&&!D.dropBehaviour&&B.ui.ddmanager.prepareOffsets(this,C),this._mouseDrag(C,!0),B.ui.ddmanager&&B.ui.ddmanager.dragStart(this,C),!0)},_mouseDrag:function(C,E){this.position=this._generatePosition(C),this.positionAbs=this._convertPositionTo("absolute");if(!E){var D=this._uiHash();if(this._trigger("drag",C,D)===!1){return this._mouseUp({}),!1}this.position=D.position}if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px"}return B.ui.ddmanager&&B.ui.ddmanager.drag(this,C),!1},_mouseStop:function(D){var G=!1;B.ui.ddmanager&&!this.options.dropBehaviour&&(G=B.ui.ddmanager.drop(this,D)),this.dropped&&(G=this.dropped,this.dropped=!1);var F=this.element[0],C=!1;while(F&&(F=F.parentNode)){F==document&&(C=!0)}if(!C&&this.options.helper==="original"){return !1}if(this.options.revert=="invalid"&&!G||this.options.revert=="valid"&&G||this.options.revert===!0||B.isFunction(this.options.revert)&&this.options.revert.call(this.element,G)){var E=this;B(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){E._trigger("stop",D)!==!1&&E._clear()})}else{this._trigger("stop",D)!==!1&&this._clear()}return !1},_mouseUp:function(C){return B("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),B.ui.ddmanager&&B.ui.ddmanager.dragStop(this,C),B.ui.mouse.prototype._mouseUp.call(this,C)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(C){var D=!this.options.handle||!B(this.options.handle,this.element).length?!0:!1;return B(this.options.handle,this.element).find("*").andSelf().each(function(){this==C.target&&(D=!0)}),D},_createHelper:function(C){var E=this.options,D=B.isFunction(E.helper)?B(E.helper.apply(this.element[0],[C])):E.helper=="clone"?this.element.clone().removeAttr("id"):this.element;return D.parents("body").length||D.appendTo(E.appendTo=="parent"?this.element[0].parentNode:E.appendTo),D[0]!=this.element[0]&&!/(fixed|absolute)/.test(D.css("position"))&&D.css("position","absolute"),D},_adjustOffsetFromHelper:function(C){typeof C=="string"&&(C=C.split(" ")),B.isArray(C)&&(C={left:+C[0],top:+C[1]||0}),"left" in C&&(this.offset.click.left=C.left+this.margins.left),"right" in C&&(this.offset.click.left=this.helperProportions.width-C.right+this.margins.left),"top" in C&&(this.offset.click.top=C.top+this.margins.top),"bottom" in C&&(this.offset.click.top=this.helperProportions.height-C.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var C=this.offsetParent.offset();this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&B.contains(this.scrollParent[0],this.offsetParent[0])&&(C.left+=this.scrollParent.scrollLeft(),C.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&B.ui.ie){C={top:0,left:0}}return{top:C.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:C.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var C=this.element.position();return{top:C.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:C.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var D=this.options;D.containment=="parent"&&(D.containment=this.helper[0].parentNode);if(D.containment=="document"||D.containment=="window"){this.containment=[D.containment=="document"?0:B(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,D.containment=="document"?0:B(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,(D.containment=="document"?0:B(window).scrollLeft())+B(D.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(D.containment=="document"?0:B(window).scrollTop())+(B(D.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!/^(document|window|parent)$/.test(D.containment)&&D.containment.constructor!=Array){var G=B(D.containment),F=G[0];if(!F){return }var C=G.offset(),E=B(F).css("overflow")!="hidden";this.containment=[(parseInt(B(F).css("borderLeftWidth"),10)||0)+(parseInt(B(F).css("paddingLeft"),10)||0),(parseInt(B(F).css("borderTopWidth"),10)||0)+(parseInt(B(F).css("paddingTop"),10)||0),(E?Math.max(F.scrollWidth,F.offsetWidth):F.offsetWidth)-(parseInt(B(F).css("borderLeftWidth"),10)||0)-(parseInt(B(F).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(E?Math.max(F.scrollHeight,F.offsetHeight):F.offsetHeight)-(parseInt(B(F).css("borderTopWidth"),10)||0)-(parseInt(B(F).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=G}else{D.containment.constructor==Array&&(this.containment=D.containment)}},_convertPositionTo:function(D,H){H||(H=this.position);var F=D=="absolute"?1:-1,C=this.options,E=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!B.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,G=/(html|body)/i.test(E[0].tagName);return{top:H.top+this.offset.relative.top*F+this.offset.parent.top*F-(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():G?0:E.scrollTop())*F,left:H.left+this.offset.relative.left*F+this.offset.parent.left*F-(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():G?0:E.scrollLeft())*F}},_generatePosition:function(K){var E=this.options,C=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!B.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,G=/(html|body)/i.test(C[0].tagName),L=K.pageX,D=K.pageY;if(this.originalPosition){var J;if(this.containment){if(this.relative_container){var I=this.relative_container.offset();J=[this.containment[0]+I.left,this.containment[1]+I.top,this.containment[2]+I.left,this.containment[3]+I.top]}else{J=this.containment}K.pageX-this.offset.click.left<J[0]&&(L=J[0]+this.offset.click.left),K.pageY-this.offset.click.top<J[1]&&(D=J[1]+this.offset.click.top),K.pageX-this.offset.click.left>J[2]&&(L=J[2]+this.offset.click.left),K.pageY-this.offset.click.top>J[3]&&(D=J[3]+this.offset.click.top)}if(E.grid){var H=E.grid[1]?this.originalPageY+Math.round((D-this.originalPageY)/E.grid[1])*E.grid[1]:this.originalPageY;D=J?H-this.offset.click.top<J[1]||H-this.offset.click.top>J[3]?H-this.offset.click.top<J[1]?H+E.grid[1]:H-E.grid[1]:H:H;var F=E.grid[0]?this.originalPageX+Math.round((L-this.originalPageX)/E.grid[0])*E.grid[0]:this.originalPageX;L=J?F-this.offset.click.left<J[0]||F-this.offset.click.left>J[2]?F-this.offset.click.left<J[0]?F+E.grid[0]:F-E.grid[0]:F:F}}return{top:D-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():G?0:C.scrollTop()),left:L-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():G?0:C.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(C,E,D){return D=D||this._uiHash(),B.ui.plugin.call(this,C,[E,D]),C=="drag"&&(this.positionAbs=this._convertPositionTo("absolute")),B.Widget.prototype._trigger.call(this,C,E,D)},plugins:{},_uiHash:function(C){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),B.ui.plugin.add("draggable","connectToSortable",{start:function(D,G){var F=B(this).data("draggable"),C=F.options,E=B.extend({},G,{item:F.element});F.sortables=[],B(C.connectToSortable).each(function(){var H=B.data(this,"sortable");H&&!H.options.disabled&&(F.sortables.push({instance:H,shouldRevert:H.options.revert}),H.refreshPositions(),H._trigger("activate",D,E))})},stop:function(D,F){var E=B(this).data("draggable"),C=B.extend({},F,{item:E.element});B.each(E.sortables,function(){this.instance.isOver?(this.instance.isOver=0,E.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(D),this.instance.options.helper=this.instance.options._helper,E.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",D,C))})},drag:function(D,G){var F=B(this).data("draggable"),C=this,E=function(O){var J=this.offset.click.top,H=this.offset.click.left,K=this.positionAbs.top,P=this.positionAbs.left,I=O.height,N=O.width,M=O.top,L=O.left;return B.ui.isOver(K+J,P+H,M,L,I,N)};B.each(F.sortables,function(I){var J=!1,H=this;this.instance.positionAbs=F.positionAbs,this.instance.helperProportions=F.helperProportions,this.instance.offset.click=F.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(J=!0,B.each(F.sortables,function(){return this.instance.positionAbs=F.positionAbs,this.instance.helperProportions=F.helperProportions,this.instance.offset.click=F.offset.click,this!=H&&this.instance._intersectsWith(this.instance.containerCache)&&B.ui.contains(H.instance.element[0],this.instance.element[0])&&(J=!1),J})),J?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=B(C).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return G.helper[0]},D.target=this.instance.currentItem[0],this.instance._mouseCapture(D,!0),this.instance._mouseStart(D,!0,!0),this.instance.offset.click.top=F.offset.click.top,this.instance.offset.click.left=F.offset.click.left,this.instance.offset.parent.left-=F.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=F.offset.parent.top-this.instance.offset.parent.top,F._trigger("toSortable",D),F.dropped=this.instance.element,F.currentItem=F.element,this.instance.fromOutside=F),this.instance.currentItem&&this.instance._mouseDrag(D)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",D,this.instance._uiHash(this.instance)),this.instance._mouseStop(D,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),F._trigger("fromSortable",D),F.dropped=!1)})}}),B.ui.plugin.add("draggable","cursor",{start:function(D,F){var E=B("body"),C=B(this).data("draggable").options;E.css("cursor")&&(C._cursor=E.css("cursor")),E.css("cursor",C.cursor)},stop:function(C,E){var D=B(this).data("draggable").options;D._cursor&&B("body").css("cursor",D._cursor)}}),B.ui.plugin.add("draggable","opacity",{start:function(D,F){var E=B(F.helper),C=B(this).data("draggable").options;E.css("opacity")&&(C._opacity=E.css("opacity")),E.css("opacity",C.opacity)},stop:function(C,E){var D=B(this).data("draggable").options;D._opacity&&B(E.helper).css("opacity",D._opacity)}}),B.ui.plugin.add("draggable","scroll",{start:function(C,E){var D=B(this).data("draggable");D.scrollParent[0]!=document&&D.scrollParent[0].tagName!="HTML"&&(D.overflowOffset=D.scrollParent.offset())},drag:function(D,G){var F=B(this).data("draggable"),C=F.options,E=!1;if(F.scrollParent[0]!=document&&F.scrollParent[0].tagName!="HTML"){if(!C.axis||C.axis!="x"){F.overflowOffset.top+F.scrollParent[0].offsetHeight-D.pageY<C.scrollSensitivity?F.scrollParent[0].scrollTop=E=F.scrollParent[0].scrollTop+C.scrollSpeed:D.pageY-F.overflowOffset.top<C.scrollSensitivity&&(F.scrollParent[0].scrollTop=E=F.scrollParent[0].scrollTop-C.scrollSpeed)}if(!C.axis||C.axis!="y"){F.overflowOffset.left+F.scrollParent[0].offsetWidth-D.pageX<C.scrollSensitivity?F.scrollParent[0].scrollLeft=E=F.scrollParent[0].scrollLeft+C.scrollSpeed:D.pageX-F.overflowOffset.left<C.scrollSensitivity&&(F.scrollParent[0].scrollLeft=E=F.scrollParent[0].scrollLeft-C.scrollSpeed)}}else{if(!C.axis||C.axis!="x"){D.pageY-B(document).scrollTop()<C.scrollSensitivity?E=B(document).scrollTop(B(document).scrollTop()-C.scrollSpeed):B(window).height()-(D.pageY-B(document).scrollTop())<C.scrollSensitivity&&(E=B(document).scrollTop(B(document).scrollTop()+C.scrollSpeed))}if(!C.axis||C.axis!="y"){D.pageX-B(document).scrollLeft()<C.scrollSensitivity?E=B(document).scrollLeft(B(document).scrollLeft()-C.scrollSpeed):B(window).width()-(D.pageX-B(document).scrollLeft())<C.scrollSensitivity&&(E=B(document).scrollLeft(B(document).scrollLeft()+C.scrollSpeed))}}E!==!1&&B.ui.ddmanager&&!C.dropBehaviour&&B.ui.ddmanager.prepareOffsets(F,D)}}),B.ui.plugin.add("draggable","snap",{start:function(D,F){var E=B(this).data("draggable"),C=E.options;E.snapElements=[],B(C.snap.constructor!=String?C.snap.items||":data(draggable)":C.snap).each(function(){var G=B(this),H=G.offset();this!=E.element[0]&&E.snapElements.push({item:this,width:G.outerWidth(),height:G.outerHeight(),top:H.top,left:H.left})})},drag:function(F,K){var H=B(this).data("draggable"),N=H.options,G=N.snapTolerance,J=K.offset.left,E=J+H.helperProportions.width,U=K.offset.top,Q=U+H.helperProportions.height;for(var M=H.snapElements.length-1;M>=0;M--){var S=H.snapElements[M].left,O=S+H.snapElements[M].width,I=H.snapElements[M].top,R=I+H.snapElements[M].height;if(!(S-G<J&&J<O+G&&I-G<U&&U<R+G||S-G<J&&J<O+G&&I-G<Q&&Q<R+G||S-G<E&&E<O+G&&I-G<U&&U<R+G||S-G<E&&E<O+G&&I-G<Q&&Q<R+G)){H.snapElements[M].snapping&&H.options.snap.release&&H.options.snap.release.call(H.element,F,B.extend(H._uiHash(),{snapItem:H.snapElements[M].item})),H.snapElements[M].snapping=!1;continue}if(N.snapMode!="inner"){var D=Math.abs(I-Q)<=G,L=Math.abs(R-U)<=G,P=Math.abs(S-E)<=G,C=Math.abs(O-J)<=G;D&&(K.position.top=H._convertPositionTo("relative",{top:I-H.helperProportions.height,left:0}).top-H.margins.top),L&&(K.position.top=H._convertPositionTo("relative",{top:R,left:0}).top-H.margins.top),P&&(K.position.left=H._convertPositionTo("relative",{top:0,left:S-H.helperProportions.width}).left-H.margins.left),C&&(K.position.left=H._convertPositionTo("relative",{top:0,left:O}).left-H.margins.left)}var T=D||L||P||C;if(N.snapMode!="outer"){var D=Math.abs(I-U)<=G,L=Math.abs(R-Q)<=G,P=Math.abs(S-J)<=G,C=Math.abs(O-E)<=G;D&&(K.position.top=H._convertPositionTo("relative",{top:I,left:0}).top-H.margins.top),L&&(K.position.top=H._convertPositionTo("relative",{top:R-H.helperProportions.height,left:0}).top-H.margins.top),P&&(K.position.left=H._convertPositionTo("relative",{top:0,left:S}).left-H.margins.left),C&&(K.position.left=H._convertPositionTo("relative",{top:0,left:O-H.helperProportions.width}).left-H.margins.left)}!H.snapElements[M].snapping&&(D||L||P||C||T)&&H.options.snap.snap&&H.options.snap.snap.call(H.element,F,B.extend(H._uiHash(),{snapItem:H.snapElements[M].item})),H.snapElements[M].snapping=D||L||P||C||T}}}),B.ui.plugin.add("draggable","stack",{start:function(D,G){var F=B(this).data("draggable").options,C=B.makeArray(B(F.stack)).sort(function(H,I){return(parseInt(B(H).css("zIndex"),10)||0)-(parseInt(B(I).css("zIndex"),10)||0)});if(!C.length){return }var E=parseInt(C[0].style.zIndex)||0;B(C).each(function(H){this.style.zIndex=E+H}),this[0].style.zIndex=E+C.length}}),B.ui.plugin.add("draggable","zIndex",{start:function(D,F){var E=B(F.helper),C=B(this).data("draggable").options;E.css("zIndex")&&(C._zIndex=E.css("zIndex")),E.css("zIndex",C.zIndex)},stop:function(C,E){var D=B(this).data("draggable").options;D._zIndex&&B(E.helper).css("zIndex",D._zIndex)}})})(jQuery);(function(B,A){B.widget("ui.droppable",{version:"1.9.1",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var C=this.options,D=C.accept;this.isover=0,this.isout=1,this.accept=B.isFunction(D)?D:function(E){return E.is(D)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},B.ui.ddmanager.droppables[C.scope]=B.ui.ddmanager.droppables[C.scope]||[],B.ui.ddmanager.droppables[C.scope].push(this),C.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){var C=B.ui.ddmanager.droppables[this.options.scope];for(var D=0;D<C.length;D++){C[D]==this&&C.splice(D,1)}this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(C,D){C=="accept"&&(this.accept=B.isFunction(D)?D:function(E){return E.is(D)}),B.Widget.prototype._setOption.apply(this,arguments)},_activate:function(C){var D=B.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),D&&this._trigger("activate",C,this.ui(D))},_deactivate:function(C){var D=B.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),D&&this._trigger("deactivate",C,this.ui(D))},_over:function(C){var D=B.ui.ddmanager.current;if(!D||(D.currentItem||D.element)[0]==this.element[0]){return }this.accept.call(this.element[0],D.currentItem||D.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",C,this.ui(D)))},_out:function(C){var D=B.ui.ddmanager.current;if(!D||(D.currentItem||D.element)[0]==this.element[0]){return }this.accept.call(this.element[0],D.currentItem||D.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",C,this.ui(D)))},_drop:function(D,F){var E=F||B.ui.ddmanager.current;if(!E||(E.currentItem||E.element)[0]==this.element[0]){return !1}var C=!1;return this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var G=B.data(this,"droppable");if(G.options.greedy&&!G.options.disabled&&G.options.scope==E.options.scope&&G.accept.call(G.element[0],E.currentItem||E.element)&&B.ui.intersect(E,B.extend(G,{offset:G.element.offset()}),G.options.tolerance)){return C=!0,!1}}),C?!1:this.accept.call(this.element[0],E.currentItem||E.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",D,this.ui(E)),this.element):!1},ui:function(C){return{draggable:C.currentItem||C.element,helper:C.helper,position:C.position,offset:C.positionAbs}}}),B.ui.intersect=function(O,F,C){if(!F.offset){return !1}var H=(O.positionAbs||O.position.absolute).left,P=H+O.helperProportions.width,E=(O.positionAbs||O.position.absolute).top,N=E+O.helperProportions.height,M=F.offset.left,J=M+F.proportions.width,G=F.offset.top,L=G+F.proportions.height;switch(C){case"fit":return M<=H&&P<=J&&G<=E&&N<=L;case"intersect":return M<H+O.helperProportions.width/2&&P-O.helperProportions.width/2<J&&G<E+O.helperProportions.height/2&&N-O.helperProportions.height/2<L;case"pointer":var I=(O.positionAbs||O.position.absolute).left+(O.clickOffset||O.offset.click).left,D=(O.positionAbs||O.position.absolute).top+(O.clickOffset||O.offset.click).top,K=B.ui.isOver(D,I,G,M,F.proportions.height,F.proportions.width);return K;case"touch":return(E>=G&&E<=L||N>=G&&N<=L||E<G&&N>L)&&(H>=M&&H<=J||P>=M&&P<=J||H<M&&P>J);default:return !1}},B.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(E,I){var G=B.ui.ddmanager.droppables[E.options.scope]||[],D=I?I.type:null,F=(E.currentItem||E.element).find(":data(droppable)").andSelf();B:for(var H=0;H<G.length;H++){if(G[H].options.disabled||E&&!G[H].accept.call(G[H].element[0],E.currentItem||E.element)){continue}for(var C=0;C<F.length;C++){if(F[C]==G[H].element[0]){G[H].proportions.height=0;continue B}}G[H].visible=G[H].element.css("display")!="none";if(!G[H].visible){continue}D=="mousedown"&&G[H]._activate.call(G[H],I),G[H].offset=G[H].element.offset(),G[H].proportions={width:G[H].element[0].offsetWidth,height:G[H].element[0].offsetHeight}}},drop:function(C,E){var D=!1;return B.each(B.ui.ddmanager.droppables[C.options.scope]||[],function(){if(!this.options){return }!this.options.disabled&&this.visible&&B.ui.intersect(C,this,this.options.tolerance)&&(D=this._drop.call(this,E)||D),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],C.currentItem||C.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,E))}),D},dragStart:function(C,D){C.element.parentsUntil("body").bind("scroll.droppable",function(){C.options.refreshPositions||B.ui.ddmanager.prepareOffsets(C,D)})},drag:function(C,D){C.options.refreshPositions&&B.ui.ddmanager.prepareOffsets(C,D),B.each(B.ui.ddmanager.droppables[C.options.scope]||[],function(){if(this.options.disabled||this.greedyChild||!this.visible){return }var H=B.ui.intersect(C,this,this.options.tolerance),F=!H&&this.isover==1?"isout":H&&this.isover==0?"isover":null;if(!F){return }var G;if(this.options.greedy){var I=this.options.scope,E=this.element.parents(":data(droppable)").filter(function(){return B.data(this,"droppable").options.scope===I});E.length&&(G=B.data(E[0],"droppable"),G.greedyChild=F=="isover"?1:0)}G&&F=="isover"&&(G.isover=0,G.isout=1,G._out.call(G,D)),this[F]=1,this[F=="isout"?"isover":"isout"]=0,this[F=="isover"?"_over":"_out"].call(this,D),G&&F=="isout"&&(G.isout=0,G.isover=1,G._over.call(G,D))})},dragStop:function(C,D){C.element.parentsUntil("body").unbind("scroll.droppable"),C.options.refreshPositions||B.ui.ddmanager.prepareOffsets(C,D)}}})(jQuery);(function(C,A){C.widget("ui.resizable",C.ui.mouse,{version:"1.9.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1000},_create:function(){var G=this,K=this.options;this.element.addClass("ui-resizable"),C.extend(this,{_aspectRatio:!!K.aspectRatio,aspectRatio:K.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:K.helper||K.ghost||K.animate?K.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(C('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=K.handles||(C(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se");if(this.handles.constructor==String){this.handles=="all"&&(this.handles="n,e,s,w,se,sw,ne,nw");var I=this.handles.split(",");this.handles={};for(var F=0;F<I.length;F++){var H=C.trim(I[F]),J="ui-resizable-"+H,E=C('<div class="ui-resizable-handle '+J+'"></div>');E.css({zIndex:K.zIndex}),"se"==H&&E.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[H]=".ui-resizable-"+H,this.element.append(E)}}this._renderAxis=function(M){M=M||this.element;for(var P in this.handles){this.handles[P].constructor==String&&(this.handles[P]=C(this.handles[P],this.element).show());if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var O=C(this.handles[P],this.element),L=0;L=/sw|ne|nw|se|n|s/.test(P)?O.outerHeight():O.outerWidth();var N=["padding",/ne|nw|n/.test(P)?"Top":/se|sw|s/.test(P)?"Bottom":/^e$/.test(P)?"Right":"Left"].join("");M.css(N,L),this._proportionallyResize()}if(!C(this.handles[P]).length){continue}}},this._renderAxis(this.element),this._handles=C(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){if(!G.resizing){if(this.className){var L=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)}G.axis=L&&L[1]?L[1]:"se"}}),K.autoHide&&(this._handles.hide(),C(this.element).addClass("ui-resizable-autohide").mouseenter(function(){if(K.disabled){return }C(this).removeClass("ui-resizable-autohide"),G._handles.show()}).mouseleave(function(){if(K.disabled){return }G.resizing||(C(this).addClass("ui-resizable-autohide"),G._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var E=function(G){C(G).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){E(this.element);var F=this.element;this.originalElement.css({position:F.css("position"),width:F.outerWidth(),height:F.outerHeight(),top:F.css("top"),left:F.css("left")}).insertAfter(F),F.remove()}return this.originalElement.css("resize",this.originalResizeStyle),E(this.originalElement),this},_mouseCapture:function(E){var G=!1;for(var F in this.handles){C(this.handles[F])[0]==E.target&&(G=!0)}return !this.options.disabled&&G},_mouseStart:function(H){var J=this.options,G=this.element.position(),I=this.element;this.resizing=!0,this.documentScroll={top:C(document).scrollTop(),left:C(document).scrollLeft()},(I.is(".ui-draggable")||/absolute/.test(I.css("position")))&&I.css({position:"absolute",top:G.top,left:G.left}),this._renderProxy();var K=D(this.helper.css("left")),F=D(this.helper.css("top"));J.containment&&(K+=C(J.containment).scrollLeft()||0,F+=C(J.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:K,top:F},this.size=this._helper?{width:I.outerWidth(),height:I.outerHeight()}:{width:I.width(),height:I.height()},this.originalSize=this._helper?{width:I.outerWidth(),height:I.outerHeight()}:{width:I.width(),height:I.height()},this.originalPosition={left:K,top:F},this.sizeDiff={width:I.outerWidth()-I.width(),height:I.outerHeight()-I.height()},this.originalMousePosition={left:H.pageX,top:H.pageY},this.aspectRatio=typeof J.aspectRatio=="number"?J.aspectRatio:this.originalSize.width/this.originalSize.height||1;var E=C(".ui-resizable-"+this.axis).css("cursor");return C("body").css("cursor",E=="auto"?this.axis+"-resize":E),I.addClass("ui-resizable-resizing"),this._propagate("start",H),!0},_mouseDrag:function(K){var N=this.helper,G=this.options,E={},I=this,O=this.originalMousePosition,F=this.axis,M=K.pageX-O.left||0,L=K.pageY-O.top||0,J=this._change[F];if(!J){return !1}var H=J.apply(this,[K,M,L]);this._updateVirtualBoundaries(K.shiftKey);if(this._aspectRatio||K.shiftKey){H=this._updateRatio(H,K)}return H=this._respectSize(H,K),this._propagate("resize",K),N.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(H),this._trigger("resize",K,this.ui()),!1},_mouseStop:function(M){this.resizing=!1;var G=this.options,E=this;if(this._helper){var I=this._proportionallyResizeElements,N=I.length&&/textarea/i.test(I[0].nodeName),F=N&&C.ui.hasScroll(I[0],"left")?0:E.sizeDiff.height,L=N?0:E.sizeDiff.width,K={width:E.helper.width()-L,height:E.helper.height()-F},J=parseInt(E.element.css("left"),10)+(E.position.left-E.originalPosition.left)||null,H=parseInt(E.element.css("top"),10)+(E.position.top-E.originalPosition.top)||null;G.animate||this.element.css(C.extend(K,{top:H,left:J})),E.helper.height(E.size.height),E.helper.width(E.size.width),this._helper&&!G.animate&&this._proportionallyResize()}return C("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",M),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(I){var G=this.options,K,F,H,J,E;E={minWidth:B(G.minWidth)?G.minWidth:0,maxWidth:B(G.maxWidth)?G.maxWidth:Infinity,minHeight:B(G.minHeight)?G.minHeight:0,maxHeight:B(G.maxHeight)?G.maxHeight:Infinity};if(this._aspectRatio||I){K=E.minHeight*this.aspectRatio,H=E.minWidth/this.aspectRatio,F=E.maxHeight*this.aspectRatio,J=E.maxWidth/this.aspectRatio,K>E.minWidth&&(E.minWidth=K),H>E.minHeight&&(E.minHeight=H),F<E.maxWidth&&(E.maxWidth=F),J<E.maxHeight&&(E.maxHeight=J)}this._vBoundaries=E},_updateCache:function(F){var E=this.options;this.offset=this.helper.offset(),B(F.left)&&(this.position.left=F.left),B(F.top)&&(this.position.top=F.top),B(F.height)&&(this.size.height=F.height),B(F.width)&&(this.size.width=F.width)},_updateRatio:function(H,F){var J=this.options,E=this.position,G=this.size,I=this.axis;return B(H.height)?H.width=H.height*this.aspectRatio:B(H.width)&&(H.height=H.width/this.aspectRatio),I=="sw"&&(H.left=E.left+(G.width-H.width),H.top=null),I=="nw"&&(H.top=E.top+(G.height-H.height),H.left=E.left+(G.width-H.width)),H},_respectSize:function(L,R){var G=this.helper,I=this._vBoundaries,S=this._aspectRatio||R.shiftKey,F=this.axis,Q=B(L.width)&&I.maxWidth&&I.maxWidth<L.width,O=B(L.height)&&I.maxHeight&&I.maxHeight<L.height,K=B(L.width)&&I.minWidth&&I.minWidth>L.width,H=B(L.height)&&I.minHeight&&I.minHeight>L.height;K&&(L.width=I.minWidth),H&&(L.height=I.minHeight),Q&&(L.width=I.maxWidth),O&&(L.height=I.maxHeight);var N=this.originalPosition.left+this.originalSize.width,J=this.position.top+this.size.height,E=/sw|nw|w/.test(F),M=/nw|ne|n/.test(F);K&&E&&(L.left=N-I.minWidth),Q&&E&&(L.left=N-I.maxWidth),H&&M&&(L.top=J-I.minHeight),O&&M&&(L.top=J-I.maxHeight);var P=!L.width&&!L.height;return P&&!L.left&&L.top?L.top=null:P&&!L.top&&L.left&&(L.left=null),L},_proportionallyResize:function(){var F=this.options;if(!this._proportionallyResizeElements.length){return }var J=this.helper||this.element;for(var H=0;H<this._proportionallyResizeElements.length;H++){var E=this._proportionallyResizeElements[H];if(!this.borderDif){var G=[E.css("borderTopWidth"),E.css("borderRightWidth"),E.css("borderBottomWidth"),E.css("borderLeftWidth")],I=[E.css("paddingTop"),E.css("paddingRight"),E.css("paddingBottom"),E.css("paddingLeft")];this.borderDif=C.map(G,function(M,K){var N=parseInt(M,10)||0,L=parseInt(I[K],10)||0;return N+L})}E.css({height:J.height()-this.borderDif[0]-this.borderDif[2]||0,width:J.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var F=this.element,H=this.options;this.elementOffset=F.offset();if(this._helper){this.helper=this.helper||C('<div style="overflow:hidden;"></div>');var G=C.ui.ie6?1:0,E=C.ui.ie6?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+E,height:this.element.outerHeight()+E,position:"absolute",left:this.elementOffset.left-G+"px",top:this.elementOffset.top-G+"px",zIndex:++H.zIndex}),this.helper.appendTo("body").disableSelection()}else{this.helper=this.element}},_change:{e:function(F,E,G){return{width:this.originalSize.width+E}},w:function(I,F,J){var H=this.options,E=this.originalSize,G=this.originalPosition;return{left:G.left+F,width:E.width-F}},n:function(I,F,J){var H=this.options,E=this.originalSize,G=this.originalPosition;return{top:G.top+J,height:E.height-J}},s:function(F,E,G){return{height:this.originalSize.height+G}},se:function(E,G,F){return C.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[E,G,F]))},sw:function(E,G,F){return C.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[E,G,F]))},ne:function(E,G,F){return C.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[E,G,F]))},nw:function(E,G,F){return C.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[E,G,F]))}},_propagate:function(E,F){C.ui.plugin.call(this,E,[F,this.ui()]),E!="resize"&&this._trigger(E,F,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),C.ui.plugin.add("resizable","alsoResize",{start:function(F,I){var H=C(this).data("resizable"),E=H.options,G=function(J){C(J).each(function(){var K=C(this);K.data("resizable-alsoresize",{width:parseInt(K.width(),10),height:parseInt(K.height(),10),left:parseInt(K.css("left"),10),top:parseInt(K.css("top"),10)})})};typeof E.alsoResize=="object"&&!E.alsoResize.parentNode?E.alsoResize.length?(E.alsoResize=E.alsoResize[0],G(E.alsoResize)):C.each(E.alsoResize,function(J){G(J)}):G(E.alsoResize)},resize:function(H,L){var J=C(this).data("resizable"),G=J.options,I=J.originalSize,K=J.originalPosition,F={height:J.size.height-I.height||0,width:J.size.width-I.width||0,top:J.position.top-K.top||0,left:J.position.left-K.left||0},E=function(M,N){C(M).each(function(){var P=C(this),O=C(this).data("resizable-alsoresize"),Q={},R=N&&N.length?N:P.parents(L.originalElement[0]).length?["width","height"]:["width","height","top","left"];C.each(R,function(T,S){var U=(O[S]||0)+(F[S]||0);U&&U>=0&&(Q[S]=U||null)}),P.css(Q)})};typeof G.alsoResize=="object"&&!G.alsoResize.nodeType?C.each(G.alsoResize,function(N,M){E(N,M)}):E(G.alsoResize)},stop:function(E,F){C(this).removeData("resizable-alsoresize")}}),C.ui.plugin.add("resizable","animate",{stop:function(N,G){var E=C(this).data("resizable"),I=E.options,O=E._proportionallyResizeElements,F=O.length&&/textarea/i.test(O[0].nodeName),M=F&&C.ui.hasScroll(O[0],"left")?0:E.sizeDiff.height,L=F?0:E.sizeDiff.width,J={width:E.size.width-L,height:E.size.height-M},H=parseInt(E.element.css("left"),10)+(E.position.left-E.originalPosition.left)||null,K=parseInt(E.element.css("top"),10)+(E.position.top-E.originalPosition.top)||null;E.element.animate(C.extend(J,K&&H?{top:K,left:H}:{}),{duration:I.animateDuration,easing:I.animateEasing,step:function(){var P={width:parseInt(E.element.css("width"),10),height:parseInt(E.element.css("height"),10),top:parseInt(E.element.css("top"),10),left:parseInt(E.element.css("left"),10)};O&&O.length&&C(O[0]).css({width:P.width,height:P.height}),E._updateCache(P),E._propagate("resize",N)}})}}),C.ui.plugin.add("resizable","containment",{start:function(Q,E){var I=C(this).data("resizable"),R=I.options,G=I.element,P=R.containment,N=P instanceof C?P.get(0):/parent/.test(P)?G.parent().get(0):P;if(!N){return }I.containerElement=C(N);if(/document/.test(P)||P==document){I.containerOffset={left:0,top:0},I.containerPosition={left:0,top:0},I.parentData={element:C(document),left:0,top:0,width:C(document).width(),height:C(document).height()||document.body.parentNode.scrollHeight}}else{var K=C(N),H=[];C(["Top","Right","Left","Bottom"]).each(function(T,S){H[T]=D(K.css("padding"+S))}),I.containerOffset=K.offset(),I.containerPosition=K.position(),I.containerSize={height:K.innerHeight()-H[3],width:K.innerWidth()-H[1]};var M=I.containerOffset,J=I.containerSize.height,F=I.containerSize.width,L=C.ui.hasScroll(N,"left")?N.scrollWidth:F,O=C.ui.hasScroll(N)?N.scrollHeight:J;I.parentData={element:N,left:M.left,top:M.top,width:L,height:O}}},resize:function(R,H){var E=C(this).data("resizable"),J=E.options,S=E.containerSize,G=E.containerOffset,Q=E.size,O=E.position,L=E._aspectRatio||R.shiftKey,I={top:0,left:0},N=E.containerElement;N[0]!=document&&/static/.test(N.css("position"))&&(I=G),O.left<(E._helper?G.left:0)&&(E.size.width=E.size.width+(E._helper?E.position.left-G.left:E.position.left-I.left),L&&(E.size.height=E.size.width/E.aspectRatio),E.position.left=J.helper?G.left:0),O.top<(E._helper?G.top:0)&&(E.size.height=E.size.height+(E._helper?E.position.top-G.top:E.position.top),L&&(E.size.width=E.size.height*E.aspectRatio),E.position.top=E._helper?G.top:0),E.offset.left=E.parentData.left+E.position.left,E.offset.top=E.parentData.top+E.position.top;var K=Math.abs((E._helper?E.offset.left-I.left:E.offset.left-I.left)+E.sizeDiff.width),F=Math.abs((E._helper?E.offset.top-I.top:E.offset.top-G.top)+E.sizeDiff.height),M=E.containerElement.get(0)==E.element.parent().get(0),P=/relative|absolute/.test(E.containerElement.css("position"));M&&P&&(K-=E.parentData.left),K+E.size.width>=E.parentData.width&&(E.size.width=E.parentData.width-K,L&&(E.size.height=E.size.width/E.aspectRatio)),F+E.size.height>=E.parentData.height&&(E.size.height=E.parentData.height-F,L&&(E.size.width=E.size.height*E.aspectRatio))},stop:function(O,G){var E=C(this).data("resizable"),I=E.options,P=E.position,F=E.containerOffset,N=E.containerPosition,M=E.containerElement,K=C(E.helper),H=K.offset(),L=K.outerWidth()-E.sizeDiff.width,J=K.outerHeight()-E.sizeDiff.height;E._helper&&!I.animate&&/relative/.test(M.css("position"))&&C(this).css({left:H.left-N.left-F.left,width:L,height:J}),E._helper&&!I.animate&&/static/.test(M.css("position"))&&C(this).css({left:H.left-N.left-F.left,width:L,height:J})}}),C.ui.plugin.add("resizable","ghost",{start:function(F,I){var H=C(this).data("resizable"),E=H.options,G=H.size;H.ghost=H.originalElement.clone(),H.ghost.css({opacity:0.25,display:"block",position:"relative",height:G.height,width:G.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof E.ghost=="string"?E.ghost:""),H.ghost.appendTo(H.helper)},resize:function(F,H){var G=C(this).data("resizable"),E=G.options;G.ghost&&G.ghost.css({position:"relative",height:G.size.height,width:G.size.width})},stop:function(F,H){var G=C(this).data("resizable"),E=G.options;G.ghost&&G.helper&&G.helper.get(0).removeChild(G.ghost.get(0))}}),C.ui.plugin.add("resizable","grid",{resize:function(N,G){var E=C(this).data("resizable"),I=E.options,O=E.size,F=E.originalSize,M=E.originalPosition,L=E.axis,J=I._aspectRatio||N.shiftKey;I.grid=typeof I.grid=="number"?[I.grid,I.grid]:I.grid;var H=Math.round((O.width-F.width)/(I.grid[0]||1))*(I.grid[0]||1),K=Math.round((O.height-F.height)/(I.grid[1]||1))*(I.grid[1]||1);/^(se|s|e)$/.test(L)?(E.size.width=F.width+H,E.size.height=F.height+K):/^(ne)$/.test(L)?(E.size.width=F.width+H,E.size.height=F.height+K,E.position.top=M.top-K):/^(sw)$/.test(L)?(E.size.width=F.width+H,E.size.height=F.height+K,E.position.left=M.left-H):(E.size.width=F.width+H,E.size.height=F.height+K,E.position.top=M.top-K,E.position.left=M.left-H)}});var D=function(E){return parseInt(E,10)||0},B=function(E){return !isNaN(parseInt(E,10))}})(jQuery);(function(G,J){var C,A,E,K,B="ui-button ui-widget ui-state-default ui-corner-all",I="ui-state-hover ui-state-active ",H="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",F=function(){var L=G(this).find(":ui-button");setTimeout(function(){L.button("refresh")},1)},D=function(M){var O=M.name,N=M.form,L=G([]);return O&&(N?L=G(N).find("[name='"+O+"']"):L=G("[name='"+O+"']",M.ownerDocument).filter(function(){return !this.form})),L};G.widget("ui.button",{version:"1.9.1",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,F),typeof this.options.disabled!="boolean"?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var N=this,M=this.options,L=this.type==="checkbox"||this.type==="radio",P="ui-state-hover"+(L?"":" ui-state-active"),O="ui-state-focus";M.label===null&&(M.label=this.type==="input"?this.buttonElement.val():this.buttonElement.html()),this.buttonElement.addClass(B).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){if(M.disabled){return }G(this).addClass("ui-state-hover"),this===C&&G(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){if(M.disabled){return }G(this).removeClass(P)}).bind("click"+this.eventNamespace,function(Q){M.disabled&&(Q.preventDefault(),Q.stopImmediatePropagation())}),this.element.bind("focus"+this.eventNamespace,function(){N.buttonElement.addClass(O)}).bind("blur"+this.eventNamespace,function(){N.buttonElement.removeClass(O)}),L&&(this.element.bind("change"+this.eventNamespace,function(){if(K){return }N.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(Q){if(M.disabled){return }K=!1,A=Q.pageX,E=Q.pageY}).bind("mouseup"+this.eventNamespace,function(Q){if(M.disabled){return }if(A!==Q.pageX||E!==Q.pageY){K=!0}})),this.type==="checkbox"?this.buttonElement.bind("click"+this.eventNamespace,function(){if(M.disabled||K){return !1}G(this).toggleClass("ui-state-active"),N.buttonElement.attr("aria-pressed",N.element[0].checked)}):this.type==="radio"?this.buttonElement.bind("click"+this.eventNamespace,function(){if(M.disabled||K){return !1}G(this).addClass("ui-state-active"),N.buttonElement.attr("aria-pressed","true");var Q=N.element[0];D(Q).not(Q).map(function(){return G(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(M.disabled){return !1}G(this).addClass("ui-state-active"),C=this,N.document.one("mouseup",function(){C=null})}).bind("mouseup"+this.eventNamespace,function(){if(M.disabled){return !1}G(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(Q){if(M.disabled){return !1}(Q.keyCode===G.ui.keyCode.SPACE||Q.keyCode===G.ui.keyCode.ENTER)&&G(this).addClass("ui-state-active")}).bind("keyup"+this.eventNamespace,function(){G(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(Q){Q.keyCode===G.ui.keyCode.SPACE&&G(this).click()})),this._setOption("disabled",M.disabled),this._resetButton()},_determineButtonType:function(){var M,L,N;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button",this.type==="checkbox"||this.type==="radio"?(M=this.element.parents().last(),L="label[for='"+this.element.attr("id")+"']",this.buttonElement=M.find(L),this.buttonElement.length||(M=M.length?M.siblings():this.element.siblings(),this.buttonElement=M.filter(L),this.buttonElement.length||(this.buttonElement=M.find(L))),this.element.addClass("ui-helper-hidden-accessible"),N=this.element.is(":checked"),N&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",N)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(B+" "+I+" "+H).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(M,L){this._super(M,L);if(M==="disabled"){L?this.element.prop("disabled",!0):this.element.prop("disabled",!1);return }this._resetButton()},refresh:function(){var L=this.element.is(":disabled")||this.element.hasClass("ui-button-disabled");L!==this.options.disabled&&this._setOption("disabled",L),this.type==="radio"?D(this.element[0]).each(function(){G(this).is(":checked")?G(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):G(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):this.type==="checkbox"&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if(this.type==="input"){this.options.label&&this.element.val(this.options.label);return }var M=this.buttonElement.removeClass(H),P=G("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(M.empty()).text(),O=this.options.icons,L=O.primary&&O.secondary,N=[];O.primary||O.secondary?(this.options.text&&N.push("ui-button-text-icon"+(L?"s":O.primary?"-primary":"-secondary")),O.primary&&M.prepend("<span class='ui-button-icon-primary ui-icon "+O.primary+"'></span>"),O.secondary&&M.append("<span class='ui-button-icon-secondary ui-icon "+O.secondary+"'></span>"),this.options.text||(N.push(L?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||M.attr("title",G.trim(P)))):N.push("ui-button-text-only"),M.addClass(N.join(" "))}}),G.widget("ui.buttonset",{version:"1.9.1",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(M,L){M==="disabled"&&this.buttons.button("option",M,L),this._super(M,L)},refresh:function(){var L=this.element.css("direction")==="rtl";this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return G(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(L?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(L?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return G(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})})(jQuery);(function(D,B){var E="ui-dialog ui-widget ui-widget-content ui-corner-all ",C={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},A={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};D.widget("ui.dialog",{version:"1.9.1",options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(F){var G=D(this).css(F).offset().top;G<0&&D(this).css("top",F.top-G)}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1000},_create:function(){this.originalTitle=this.element.attr("title"),typeof this.originalTitle!="string"&&(this.originalTitle=""),this.oldPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.options.title=this.options.title||this.originalTitle;var I=this,K=this.options,H=K.title||"&#160;",J,M,G,F,L;J=(this.uiDialog=D("<div>")).addClass(E+K.dialogClass).css({display:"none",outline:0,zIndex:K.zIndex}).attr("tabIndex",-1).keydown(function(N){K.closeOnEscape&&!N.isDefaultPrevented()&&N.keyCode&&N.keyCode===D.ui.keyCode.ESCAPE&&(I.close(N),N.preventDefault())}).mousedown(function(N){I.moveToTop(!1,N)}).appendTo("body"),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(J),M=(this.uiDialogTitlebar=D("<div>")).addClass("ui-dialog-titlebar  ui-widget-header  ui-corner-all  ui-helper-clearfix").bind("mousedown",function(){J.focus()}).prependTo(J),G=D("<a href='#'></a>").addClass("ui-dialog-titlebar-close  ui-corner-all").attr("role","button").click(function(N){N.preventDefault(),I.close(N)}).appendTo(M),(this.uiDialogTitlebarCloseText=D("<span>")).addClass("ui-icon ui-icon-closethick").text(K.closeText).appendTo(G),F=D("<span>").uniqueId().addClass("ui-dialog-title").html(H).prependTo(M),L=(this.uiDialogButtonPane=D("<div>")).addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),(this.uiButtonSet=D("<div>")).addClass("ui-dialog-buttonset").appendTo(L),J.attr({role:"dialog","aria-labelledby":F.attr("id")}),M.find("*").add(M).disableSelection(),this._hoverable(G),this._focusable(G),K.draggable&&D.fn.draggable&&this._makeDraggable(),K.resizable&&D.fn.resizable&&this._makeResizable(),this._createButtons(K.buttons),this._isOpen=!1,D.fn.bgiframe&&J.bgiframe(),this._on(J,{keydown:function(O){if(!K.modal||O.keyCode!==D.ui.keyCode.TAB){return }var Q=D(":tabbable",J),N=Q.filter(":first"),P=Q.filter(":last");if(O.target===P[0]&&!O.shiftKey){return N.focus(1),!1}if(O.target===N[0]&&O.shiftKey){return P.focus(1),!1}}})},_init:function(){this.options.autoOpen&&this.open()},_destroy:function(){var G,F=this.oldPosition;this.overlay&&this.overlay.destroy(),this.uiDialog.hide(),this.element.removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),G=F.parent.children().eq(F.index),G.length&&G[0]!==this.element[0]?G.before(this.element):F.parent.append(this.element)},widget:function(){return this.uiDialog},close:function(G){var I=this,H,F;if(!this._isOpen){return }if(!1===this._trigger("beforeClose",G)){return }return this._isOpen=!1,this.overlay&&this.overlay.destroy(),this.options.hide?this._hide(this.uiDialog,this.options.hide,function(){I._trigger("close",G)}):(this.uiDialog.hide(),this._trigger("close",G)),D.ui.dialog.overlay.resize(),this.options.modal&&(H=0,D(".ui-dialog").each(function(){this!==I.uiDialog[0]&&(F=D(this).css("z-index"),isNaN(F)||(H=Math.max(H,F)))}),D.ui.dialog.maxZ=H),this},isOpen:function(){return this._isOpen},moveToTop:function(G,I){var H=this.options,F;return H.modal&&!G||!H.stack&&!H.modal?this._trigger("focus",I):(H.zIndex>D.ui.dialog.maxZ&&(D.ui.dialog.maxZ=H.zIndex),this.overlay&&(D.ui.dialog.maxZ+=1,D.ui.dialog.overlay.maxZ=D.ui.dialog.maxZ,this.overlay.$el.css("z-index",D.ui.dialog.overlay.maxZ)),F={scrollTop:this.element.scrollTop(),scrollLeft:this.element.scrollLeft()},D.ui.dialog.maxZ+=1,this.uiDialog.css("z-index",D.ui.dialog.maxZ),this.element.attr(F),this._trigger("focus",I),this)},open:function(){if(this._isOpen){return }var F,H=this.options,G=this.uiDialog;return this._size(),this._position(H.position),G.show(H.show),this.overlay=H.modal?new D.ui.dialog.overlay(this):null,this.moveToTop(!0),F=this.element.find(":tabbable"),F.length||(F=this.uiDialogButtonPane.find(":tabbable"),F.length||(F=G)),F.eq(0).focus(),this._isOpen=!0,this._trigger("open"),this},_createButtons:function(F){var H=this,G=!1;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),typeof F=="object"&&F!==null&&D.each(F,function(){return !(G=!0)}),G?(D.each(F,function(J,K){K=D.isFunction(K)?{click:K,text:J}:K;var I=D("<button type='button'></button>").attr(K,!0).unbind("click").click(function(){K.click.apply(H.element[0],arguments)}).appendTo(H.uiButtonSet);D.fn.button&&I.button()}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog)):this.uiDialog.removeClass("ui-dialog-buttons")},_makeDraggable:function(){function G(I){return{position:I.position,offset:I.offset}}var F=this,H=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(J,I){D(this).addClass("ui-dialog-dragging"),F._trigger("dragStart",J,G(I))},drag:function(I,J){F._trigger("drag",I,G(J))},stop:function(I,J){H.position=[J.position.left-F.document.scrollLeft(),J.position.top-F.document.scrollTop()],D(this).removeClass("ui-dialog-dragging"),F._trigger("dragStop",I,G(J)),D.ui.dialog.overlay.resize()}})},_makeResizable:function(K){function F(L){return{originalPosition:L.originalPosition,originalSize:L.originalSize,position:L.position,size:L.size}}K=K===B?this.options.resizable:K;var I=this,G=this.options,H=this.uiDialog.css("position"),J=typeof K=="string"?K:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:G.maxWidth,maxHeight:G.maxHeight,minWidth:G.minWidth,minHeight:this._minHeight(),handles:J,start:function(L,M){D(this).addClass("ui-dialog-resizing"),I._trigger("resizeStart",L,F(M))},resize:function(M,L){I._trigger("resize",M,F(L))},stop:function(L,M){D(this).removeClass("ui-dialog-resizing"),G.height=D(this).height(),G.width=D(this).width(),I._trigger("resizeStop",L,F(M)),D.ui.dialog.overlay.resize()}}).css("position",H).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var F=this.options;return F.height==="auto"?F.minHeight:Math.min(F.minHeight,F.height)},_position:function(G){var I=[],H=[0,0],F;if(G){if(typeof G=="string"||typeof G=="object"&&"0" in G){I=G.split?G.split(" "):[G[0],G[1]],I.length===1&&(I[1]=I[0]),D.each(["left","top"],function(K,J){+I[K]===I[K]&&(H[K]=I[K],I[K]=J)}),G={my:I[0]+(H[0]<0?H[0]:"+"+H[0])+" "+I[1]+(H[1]<0?H[1]:"+"+H[1]),at:I.join(" ")}}G=D.extend({},D.ui.dialog.prototype.options.position,G)}else{G=D.ui.dialog.prototype.options.position}F=this.uiDialog.is(":visible"),F||this.uiDialog.show(),this.uiDialog.position(G),F||this.uiDialog.hide()},_setOptions:function(F){var I=this,G={},H=!1;D.each(F,function(K,J){I._setOption(K,J),K in C&&(H=!0),K in A&&(G[K]=J)}),H&&this._size(),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",G)},_setOption:function(G,I){var F,H,J=this.uiDialog;switch(G){case"buttons":this._createButtons(I);break;case"closeText":this.uiDialogTitlebarCloseText.text(""+I);break;case"dialogClass":J.removeClass(this.options.dialogClass).addClass(E+I);break;case"disabled":I?J.addClass("ui-dialog-disabled"):J.removeClass("ui-dialog-disabled");break;case"draggable":F=J.is(":data(draggable)"),F&&!I&&J.draggable("destroy"),!F&&I&&this._makeDraggable();break;case"position":this._position(I);break;case"resizable":H=J.is(":data(resizable)"),H&&!I&&J.resizable("destroy"),H&&typeof I=="string"&&J.resizable("option","handles",I),!H&&I!==!1&&this._makeResizable(I);break;case"title":D(".ui-dialog-title",this.uiDialogTitlebar).html(""+(I||"&#160;"))}this._super(G,I)},_size:function(){var G,J,I,F=this.options,H=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0}),F.minWidth>F.width&&(F.width=F.minWidth),G=this.uiDialog.css({height:"auto",width:F.width}).outerHeight(),J=Math.max(0,F.minHeight-G),F.height==="auto"?D.support.minHeight?this.element.css({minHeight:J,height:"auto"}):(this.uiDialog.show(),I=this.element.css("height","auto").height(),H||this.uiDialog.hide(),this.element.height(Math.max(I,J))):this.element.height(Math.max(F.height-G,0)),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}}),D.extend(D.ui.dialog,{uuid:0,maxZ:0,getTitleId:function(G){var F=G.attr("id");return F||(this.uuid+=1,F=this.uuid),"ui-dialog-title-"+F},overlay:function(F){this.$el=D.ui.dialog.overlay.create(F)}}),D.extend(D.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:D.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(F){return F+".dialog-overlay"}).join(" "),create:function(F){this.instances.length===0&&(setTimeout(function(){D.ui.dialog.overlay.instances.length&&D(document).bind(D.ui.dialog.overlay.events,function(H){if(D(H.target).zIndex()<D.ui.dialog.overlay.maxZ){return !1}})},1),D(window).bind("resize.dialog-overlay",D.ui.dialog.overlay.resize));var G=this.oldInstances.pop()||D("<div>").addClass("ui-widget-overlay");return D(document).bind("keydown.dialog-overlay",function(I){var H=D.ui.dialog.overlay.instances;H.length!==0&&H[H.length-1]===G&&F.options.closeOnEscape&&!I.isDefaultPrevented()&&I.keyCode&&I.keyCode===D.ui.keyCode.ESCAPE&&(F.close(I),I.preventDefault())}),G.appendTo(document.body).css({width:this.width(),height:this.height()}),D.fn.bgiframe&&G.bgiframe(),this.instances.push(G),G},destroy:function(F){var H=D.inArray(F,this.instances),G=0;H!==-1&&this.oldInstances.push(this.instances.splice(H,1)[0]),this.instances.length===0&&D([document,window]).unbind(".dialog-overlay"),F.height(0).width(0).remove(),D.each(this.instances,function(){G=Math.max(G,this.css("z-index"))}),this.maxZ=G},height:function(){var F,G;return D.ui.ie?(F=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),G=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight),F<G?D(window).height()+"px":F+"px"):D(document).height()+"px"},width:function(){var F,G;return D.ui.ie?(F=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),G=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth),F<G?D(window).width()+"px":F+"px"):D(document).width()+"px"},resize:function(){var F=D([]);D.each(D.ui.dialog.overlay.instances,function(){F=F.add(this)}),F.css({width:0,height:0}).css({width:D.ui.dialog.overlay.width(),height:D.ui.dialog.overlay.height()})}}),D.extend(D.ui.dialog.overlay.prototype,{destroy:function(){D.ui.dialog.overlay.destroy(this.$el)}})})(jQuery);if(typeof google!="undefined"){google.load("earth","1.x")}var mtours=mtours||{};var googleEarthInstances=0;var arr_kmzUrlVal=new Array();var arr_tours=new Array();mtours.init=function(A,B){arr_kmzUrlVal[googleEarthInstances]=A;googleEarthInstances=googleEarthInstances+1;google.earth.createInstance(B,initCallback(googleEarthInstances),failureCallback)};function initCallback(A){return function(B){var D=A-1;var E=E||{};arr_tours[D]=E;E.instanceId=D;E.ge=B;E.ge.getWindow().setVisibility(true);E.ge.getNavigationControl().setVisibility(E.ge.VISIBILITY_AUTO);E.ge.getLayerRoot().enableLayerById(E.ge.LAYER_BORDERS,true);E.ge.getLayerRoot().enableLayerById(E.ge.LAYER_ROADS,true);E.ge.getLayerRoot().enableLayerById(E.ge.LAYER_BUILDINGS,true);var C=arr_kmzUrlVal[D];mtours.loadTour(C,E)}}mtours.loadTour=function(A,B){google.earth.fetchKml(B.ge,A,function(D){if(!D){setTimeout(function(){jAlert("That KML file doesn't look right to us. Please check it and then try again!","Hmm...")},0);return }B.ge.getFeatures().appendChild(D);var C;walkKmlDom(D,function(E){if(this.getType()=="KmlTour"){E.tourContext.tourRef=this;return false}else{if(this.getType()=="KmlPlacemark"){if(this.getAbstractView()){E.tourContext.ge.getView().setAbstractView(this.getAbstractView())}}}},C,B);B.tp=B.ge.getTourPlayer();B.tp.setTour(B.tourRef);B.ge.getWindow().focus()})};function failureCallback(A){}mtours.jumpTo=function(C,E,B,D){try{E.tp.getDuration()}catch(A){E.tp.setTour(E.tourRef)}E.tp.setCurrentTime(C);if(typeof D=="undefined"){var D=false}if(typeof B=="undefined"){var B=true}if(D){E.tp.pause()}if(B){E.tp.play()}else{E.tp.pause()}};